{"version":3,"file":"index.js","sources":["../src/utils/tools.js","../src/utils/Eventer.js","../src/register/LoaderRegister.js","../src/utils/DataManager.js","../src/utils/lib/BezierEasing.js","../src/utils/lib/BezierEaser.js","../src/utils/helpers/arrays.js","../src/utils/pooling/pooling.js","../src/utils/pooling/PoolFactory.js","../src/utils/pooling/PointPool.js","../src/utils/shapes/ShapePath.js","../src/utils/pooling/ShapePool.js","../src/utils/shapes/ShapeCollection.js","../src/utils/pooling/ShapeCollectionPool.js","../src/utils/helpers/dynamicProperties.js","../src/utils/pooling/BezierLengthPool.js","../src/utils/pooling/SegmentsLengthPool.js","../src/utils/bez.js","../src/constant/index.js","../src/utils/expression/Expression.js","../src/utils/PropertyFactory.js","../src/utils/shapes/ShapeProperty.js","../src/keyframes/MaskFrames.js","../src/utils/lib/transformation-matrix.js","../src/keyframes/helpers/ShapeTransformManager.js","../src/keyframes/helpers/ProcessedElement.js","../src/keyframes/helpers/ShapeData.js","../src/register/DisplayRegister.js","../src/keyframes/helpers/PathPaint.js","../src/utils/TransformProperty.js","../src/utils/shapes/ShapeModifier.js","../src/utils/shapes/TrimModifier.js","../src/utils/shapes/RoundCornersModifier.js","../src/utils/shapes/RepeaterModifier.js","../src/utils/shapes/MouseModifier.js","../src/utils/shapes/ShapeModifiers.js","../src/utils/shapes/DashProperty.js","../src/utils/shapes/GradientProperty.js","../src/keyframes/ShapesFrames.js","../src/keyframes/TransformFrames.js","../src/keyframes/KeyframesManager.js","../src/elements/BaseElement.js","../src/elements/CompElement.js","../src/elements/SolidElement.js","../src/elements/SpriteElement.js","../src/elements/ShapeElement.js","../src/elements/NullElement.js","../src/AnimationGroup.js","../src/AnimationManager.js"],"sourcesContent":["/**\n * get the type by Object.prototype.toString\n * @ignore\n * @param {*} val\n * @return {String} type string value\n */\nfunction _rt(val) {\n  return Object.prototype.toString.call(val);\n}\n\n/**\n * some useful toolkit\n * @namespace\n */\nconst Tools = {\n  /**\n   * simple copy a json data\n   * @method\n   * @param {JSON} json source data\n   * @return {JSON} object\n   */\n  copyJSON: function(json) {\n    return JSON.parse(JSON.stringify(json));\n  },\n\n  /**\n   * detect the variable is array type\n   * @method\n   * @param {Array} variable input variable\n   * @return {Boolean} result\n   */\n  isArray: (function() {\n    let ks = _rt([]);\n    return function(variable) {\n      return _rt(variable) === ks;\n    };\n  })(),\n\n  /**\n   * detect the variable is string type\n   * @method\n   * @param {String} variable input variable\n   * @return {Boolean} result\n   */\n  isString: (function() {\n    let ks = _rt('s');\n    return function(variable) {\n      return _rt(variable) === ks;\n    };\n  })(),\n\n  /**\n   * detect the variable is number type\n   * @method\n   * @param {Number} variable input variable\n   * @return {Boolean} result\n   */\n  isNumber: (function() {\n    let ks = _rt(1);\n    return function(variable) {\n      return _rt(variable) === ks;\n    };\n  })(),\n\n  /**\n   * 判断变量是否为函数类型\n   * @method\n   * @param {Function} variable 待判断的变量\n   * @return {Boolean} 判断的结果\n   */\n  isFunction: (function() {\n    let ks = _rt(function() {});\n    return function(variable) {\n      return _rt(variable) === ks;\n    };\n  })(),\n\n  /**\n   * 判断变量是否为undefined\n   * @method\n   * @param {Function} variable 待判断的变量\n   * @return {Boolean} 判断的结果\n   */\n  isUndefined: function(variable) {\n    return typeof variable === 'undefined';\n  },\n\n  /**\n   * detect the variable is boolean type\n   * @method\n   * @param {Boolean} variable input variable\n   * @return {Boolean} result\n   */\n  isBoolean: (function() {\n    let ks = _rt(true);\n    return function(variable) {\n      return _rt(variable) === ks;\n    };\n  })(),\n\n  /**\n   * detect the variable is object type\n   * @method\n   * @param {Object} variable input variable\n   * @return {Boolean} result\n   */\n  isObject: (function() {\n    let ks = _rt({});\n    return function(variable) {\n      return _rt(variable) === ks;\n    };\n  })(),\n\n  /**\n   * enhance random, random number in range or random one of array\n   * @method\n   * @param {Array | Number} min random number in range or random one of array\n   * @param {Number} max range max edge\n   * @return {ArrayItem | Number} number or one item of array\n   */\n  random: function(min, max) {\n    if (this.isArray(min)) return min[~~(Math.random() * min.length)];\n    if (!this.isNumber(max)) max = min || 1, min = 0;\n    return min + Math.random() * (max - min);\n  },\n\n  /**\n   * euclidean modulo\n   * @method\n   * @param {Number} n input value\n   * @param {Number} m modulo\n   * @return {Number} re-map to modulo area\n   */\n  euclideanModulo: function(n, m) {\n    return ((n % m) + m) % m;\n  },\n\n  /**\n   * bounce value when value spill codomain\n   * @method\n   * @param {Number} n input value\n   * @param {Number} min lower boundary\n   * @param {Number} max upper boundary\n   * @return {Number} bounce back to boundary area\n   */\n  codomainBounce: function(n, min, max) {\n    if (n < min) return 2 * min - n;\n    if (n > max) return 2 * max - n;\n    return n;\n  },\n\n  /**\n   * clamp a value in range\n   * @method\n   * @param {Number} x input value\n   * @param {Number} a lower boundary\n   * @param {Number} b upper boundary\n   * @return {Number} clamp in range\n   */\n  clamp: function(x, a, b) {\n    return (x < a) ? a : ((x > b) ? b : x);\n  },\n\n  /**\n   * detect number was in [min, max]\n   * @method\n   * @param {number} v   value\n   * @param {number} min lower\n   * @param {number} max upper\n   * @return {boolean} in [min, max] range ?\n   */\n  inRange(v, min, max) {\n    return v >= min && v <= max;\n  },\n\n  /**\n   * get assets from keyframes assets\n   * @method\n   * @param {string} id assets refid\n   * @param {object} assets assets object\n   * @return {object} asset object\n   */\n  getAssets(id, assets) {\n    for (let i = 0; i < assets.length; i++) {\n      if (id === assets[i].id) return assets[i];\n    }\n    console.error('have not assets name as', id);\n    return {};\n  },\n\n  /**\n   * get hex number from rgb array\n   * @param {array} rgb rgb array\n   * @return {number}\n   */\n  rgb2hex(rgb) {\n    return ((rgb[0] << 16) + (rgb[1] << 8) + (rgb[2] | 0));\n  },\n};\n\nexport default Tools;\n","import Tools from './tools';\n\n/**\n * Eventer, you can new it and bind custom event and emit it\n */\nexport default class Eventer {\n  /**\n   * Eventer constructor\n   */\n  constructor() {\n    /**\n     * 事件监听列表\n     *\n     * @member {object}\n     * @private\n     */\n    this.listeners = {};\n\n    /**\n     * rename from on method\n     * @member {function}\n     */\n    this.addEventListener = this.on;\n\n    /**\n     * rename from off method\n     * @member {function}\n     */\n    this.removeEventListener = this.off;\n  }\n\n  /**\n   * 事件对象的事件绑定函数\n   *\n   * @param {String} type 事件类型\n   * @param {Function} fn 回调函数\n   * @return {this}\n   */\n  on(type, fn) {\n    if (!Tools.isFunction(fn)) return this;\n    if (Tools.isUndefined(this.listeners[type])) this.listeners[type] = [];\n    this.listeners[type].push(fn);\n    return this;\n  }\n\n  /**\n   * 事件对象的事件解绑函数\n   *\n   * @param {String} type 事件类型\n   * @param {Function} fn 注册时回调函数的引用\n   * @return {this}\n   */\n  off(type, fn) {\n    if (Tools.isUndefined(this.listeners[type])) return this;\n    const cbs = this.listeners[type];\n    let i = cbs.length;\n    if (i > 0) {\n      if (fn) {\n        while (i--) {\n          if (cbs[i] === fn) {\n            cbs.splice(i, 1);\n          }\n        }\n      } else {\n        cbs.length = 0;\n      }\n    }\n    return this;\n  }\n\n  /**\n   * 事件对象的一次性事件绑定函数\n   *\n   * @param {String} type 事件类型\n   * @param {Function} fn 回调函数\n   * @return {this}\n   */\n  once(type, fn) {\n    if (!Tools.isFunction(fn)) return this;\n    const cb = (ev) => {\n      fn(ev);\n      this.off(type, cb);\n    };\n    this.on(type, cb);\n    return this;\n  }\n\n  /**\n   * 事件对象的触发事件函数\n   *\n   * @param {String} type 事件类型\n   * @param {Object} ev 事件数据\n   * @return {this}\n   */\n  emit(type, ...reset) {\n    if (Tools.isUndefined(this.listeners[type])) return this;\n    const cbs = this.listeners[type] || [];\n    const cache = cbs.slice(0);\n    for (let i = 0; i < cache.length; i++) {\n      cache[i].apply(this, reset);\n    }\n    return this;\n  }\n}\n","/**\n * @namespace LoaderRegister\n */\n\nconst loaders = {};\n\n/**\n * enum display element type for lottie layer\n * @enum {string}\n * @alias LoaderRegister.Type\n * @memberof LoaderRegister\n */\nconst Type = {\n  Ajax: 'Ajax',\n  Texture: 'Texture',\n};\n\n/**\n * register an image loader\n * @param {LoaderRegister.Type} type one of Type\n * @param {Object} _Loader loader function\n * @param {Function} _Loader.loadTexture loadTexture function\n * @param {Function} _Loader.loadJson loadJson function\n * @alias registerLoaderByType\n * @memberof LoaderRegister\n */\nfunction registerLoaderByType(type, _Loader) {\n  loaders[type] = _Loader;\n}\n\n/**\n * load some textures\n * @param {Array} assets assets images\n * @param {Object} options loader options\n * @param {String} [options.prefix] path prefix\n * @param {Boolean} [options.autoLoad=true] auto load\n * @return {LoadTexture} loadTexture\n * @alias loadTexture\n * @memberof LoaderRegister\n */\nexport function loadTexture(assets, options) {\n  const loaderFunction = loaders[Type.Texture];\n  if (!loaderFunction) {\n    console.warn('must register an image loader, before you parse an animation some has image assets');\n  }\n  return loaderFunction(assets, options);\n}\n\n/**\n * load some json\n * @param {String} path json url path\n * @return {LoadJson} loadJson\n * @alias loadJson\n * @memberof LoaderRegister\n */\nexport function loadJson(path) {\n  const loaderFunction = loaders[Type.Ajax];\n  if (!loaderFunction) {\n    console.warn('must register an ajax loader, before you parse an animation from path');\n  }\n  return loaderFunction(path);\n}\n\nexport default { Type, registerLoaderByType };\n","/**\n * complete layers\n * @private\n * @param {*} layers\n * @param {*} comps\n * @param {*} fontManager\n */\nfunction completeLayers(layers, comps, fontManager) {\n  let layerData;\n  // let animArray; let lastFrame;\n  let i; let len = layers.length;\n  let j; let jLen; let k; let kLen;\n  for (i=0; i<len; i+=1) {\n    layerData = layers[i];\n    if (!('ks' in layerData) || layerData.completed) {\n      continue;\n    }\n    layerData.completed = true;\n    if (layerData.tt) {\n      layers[i-1].td = layerData.tt;\n    }\n    // animArray = [];\n    // lastFrame = -1;\n    if (layerData.hasMask) {\n      let maskProps = layerData.masksProperties;\n      jLen = maskProps.length;\n      for (j=0; j<jLen; j+=1) {\n        if (maskProps[j].pt.k.i) {\n          convertPathsToAbsoluteValues(maskProps[j].pt.k);\n        } else {\n          kLen = maskProps[j].pt.k.length;\n          for (k=0; k<kLen; k+=1) {\n            if (maskProps[j].pt.k[k].s) {\n              convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n            }\n            if (maskProps[j].pt.k[k].e) {\n              convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n            }\n          }\n        }\n      }\n    }\n    if (layerData.ty===0) {\n      layerData.layers = findCompLayers(layerData.refId, comps);\n      completeLayers(layerData.layers, comps, fontManager);\n    } else if (layerData.ty === 4) {\n      completeShapes(layerData.shapes);\n    } else if (layerData.ty == 5) {\n      completeText(layerData, fontManager);\n    }\n  }\n}\n\n/**\n * findComp Layers\n * @private\n * @param {*} id layer id\n * @param {*} comps comps\n * @return {Array}\n */\nfunction findCompLayers(id, comps) {\n  let i = 0; let len = comps.length;\n  while (i<len) {\n    if (comps[i].id === id) {\n      if (!comps[i].layers.__used) {\n        comps[i].layers.__used = true;\n        return comps[i].layers;\n      }\n      return JSON.parse(JSON.stringify(comps[i].layers));\n    }\n    i += 1;\n  }\n}\n\n/**\n * completeShapes\n * @private\n * @param {*} arr shapes\n */\nfunction completeShapes(arr) {\n  let i; let len = arr.length;\n  let j; let jLen;\n  // let hasPaths = false;\n  for (i=len-1; i>=0; i-=1) {\n    if (arr[i].ty == 'sh') {\n      if (arr[i].ks.k.i) {\n        convertPathsToAbsoluteValues(arr[i].ks.k);\n      } else {\n        jLen = arr[i].ks.k.length;\n        for (j=0; j<jLen; j+=1) {\n          if (arr[i].ks.k[j].s) {\n            convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n          }\n          if (arr[i].ks.k[j].e) {\n            convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n          }\n        }\n      }\n      // hasPaths = true;\n    } else if (arr[i].ty == 'gr') {\n      completeShapes(arr[i].it);\n    }\n  }\n  /* if(hasPaths){\n            //mx: distance\n            //ss: sensitivity\n            //dc: decay\n            arr.splice(arr.length-1,0,{\n                \"ty\": \"ms\",\n                \"mx\":20,\n                \"ss\":10,\n                 \"dc\":0.001,\n                \"maxDist\":200\n            });\n        }*/\n}\n\n/**\n * convert relative position to absolute\n * @private\n * @param {path} path path data\n */\nfunction convertPathsToAbsoluteValues(path) {\n  let i; let len = path.i.length;\n  for (i=0; i<len; i+=1) {\n    path.i[i][0] += path.v[i][0];\n    path.i[i][1] += path.v[i][1];\n    path.o[i][0] += path.v[i][0];\n    path.o[i][1] += path.v[i][1];\n  }\n}\n\n/**\n * checkVersion\n * @private\n * @param {*} minimum minimum version\n * @param {*} animVersionString animate data version\n * @return {Boolean}\n */\nfunction checkVersion(minimum, animVersionString) {\n  let animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n  if (minimum[0]>animVersion[0]) {\n    return true;\n  } else if (animVersion[0] > minimum[0]) {\n    return false;\n  }\n  if (minimum[1]>animVersion[1]) {\n    return true;\n  } else if (animVersion[1] > minimum[1]) {\n    return false;\n  }\n  if (minimum[2]>animVersion[2]) {\n    return true;\n  } else if (animVersion[2] > minimum[2]) {\n    return false;\n  }\n}\n\nlet checkText = (function() {\n  let minimumVersion = [4, 4, 14];\n\n  /**\n   * updateTextLayer\n   * @param {*} textLayer textLayer\n   */\n  function updateTextLayer(textLayer) {\n    let documentData = textLayer.t.d;\n    textLayer.t.d = {\n      k: [\n        {\n          s: documentData,\n          t: 0,\n        },\n      ],\n    };\n  }\n\n  /**\n   * iterateLayers\n   * @param {*} layers layers\n   */\n  function iterateLayers(layers) {\n    let i; let len = layers.length;\n    for (i=0; i<len; i+=1) {\n      if (layers[i].ty === 5) {\n        updateTextLayer(layers[i]);\n      }\n    }\n  }\n\n  return function(animationData) {\n    if (checkVersion(minimumVersion, animationData.v)) {\n      iterateLayers(animationData.layers);\n      if (animationData.assets) {\n        let i; let len = animationData.assets.length;\n        for (i=0; i<len; i+=1) {\n          if (animationData.assets[i].layers) {\n            iterateLayers(animationData.assets[i].layers);\n          }\n        }\n      }\n    }\n  };\n}());\n\nlet checkChars = (function() {\n  let minimumVersion = [4, 7, 99];\n  return function(animationData) {\n    if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\n      let i; let len = animationData.chars.length; let j; let jLen;// let k; let kLen;\n      let pathData; let paths;\n      for (i = 0; i < len; i += 1) {\n        if (animationData.chars[i].data && animationData.chars[i].data.shapes) {\n          paths = animationData.chars[i].data.shapes[0].it;\n          jLen = paths.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            pathData = paths[j].ks.k;\n            if (!pathData.__converted) {\n              convertPathsToAbsoluteValues(paths[j].ks.k);\n              pathData.__converted = true;\n            }\n          }\n        }\n      }\n    }\n  };\n}());\n\nlet checkColors = (function() {\n  let minimumVersion = [4, 1, 9];\n\n  /**\n   * iterateShapes\n   * @param {*} shapes shapes\n   */\n  function iterateShapes(shapes) {\n    let i; let len = shapes.length;\n    let j; let jLen;\n    for (i=0; i<len; i+=1) {\n      if (shapes[i].ty === 'gr') {\n        iterateShapes(shapes[i].it);\n      } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n        if (shapes[i].c.k && shapes[i].c.k[0].i) {\n          jLen = shapes[i].c.k.length;\n          for (j=0; j<jLen; j+=1) {\n            if (shapes[i].c.k[j].s) {\n              shapes[i].c.k[j].s[0] /= 255;\n              shapes[i].c.k[j].s[1] /= 255;\n              shapes[i].c.k[j].s[2] /= 255;\n              shapes[i].c.k[j].s[3] /= 255;\n            }\n            if (shapes[i].c.k[j].e) {\n              shapes[i].c.k[j].e[0] /= 255;\n              shapes[i].c.k[j].e[1] /= 255;\n              shapes[i].c.k[j].e[2] /= 255;\n              shapes[i].c.k[j].e[3] /= 255;\n            }\n          }\n        } else {\n          shapes[i].c.k[0] /= 255;\n          shapes[i].c.k[1] /= 255;\n          shapes[i].c.k[2] /= 255;\n          shapes[i].c.k[3] /= 255;\n        }\n      }\n    }\n  }\n\n  /**\n   * iterateLayers\n   * @param {*} layers layers\n   */\n  function iterateLayers(layers) {\n    let i; let len = layers.length;\n    for (i=0; i<len; i+=1) {\n      if (layers[i].ty === 4) {\n        iterateShapes(layers[i].shapes);\n      }\n    }\n  }\n\n  return function(animationData) {\n    if (checkVersion(minimumVersion, animationData.v)) {\n      iterateLayers(animationData.layers);\n      if (animationData.assets) {\n        let i; let len = animationData.assets.length;\n        for (i=0; i<len; i+=1) {\n          if (animationData.assets[i].layers) {\n            iterateLayers(animationData.assets[i].layers);\n          }\n        }\n      }\n    }\n  };\n}());\n\nlet checkShapes = (function() {\n  let minimumVersion = [4, 4, 18];\n\n  /**\n   * completeShapes\n   * @param {*} arr arr\n   */\n  function completeShapes(arr) {\n    let i; let len = arr.length;\n    let j; let jLen;\n    // let hasPaths = false;\n    for (i=len-1; i>=0; i-=1) {\n      if (arr[i].ty == 'sh') {\n        if (arr[i].ks.k.i) {\n          arr[i].ks.k.c = arr[i].closed;\n        } else {\n          jLen = arr[i].ks.k.length;\n          for (j=0; j<jLen; j+=1) {\n            if (arr[i].ks.k[j].s) {\n              arr[i].ks.k[j].s[0].c = arr[i].closed;\n            }\n            if (arr[i].ks.k[j].e) {\n              arr[i].ks.k[j].e[0].c = arr[i].closed;\n            }\n          }\n        }\n        // hasPaths = true;\n      } else if (arr[i].ty == 'gr') {\n        completeShapes(arr[i].it);\n      }\n    }\n  }\n\n  /**\n   * iterateLayers\n   * @param {*} layers layers\n   */\n  function iterateLayers(layers) {\n    let layerData;\n    let i; let len = layers.length;\n    let j; let jLen; let k; let kLen;\n    for (i=0; i<len; i+=1) {\n      layerData = layers[i];\n      if (layerData.hasMask) {\n        let maskProps = layerData.masksProperties;\n        jLen = maskProps.length;\n        for (j=0; j<jLen; j+=1) {\n          if (maskProps[j].pt.k.i) {\n            maskProps[j].pt.k.c = maskProps[j].cl;\n          } else {\n            kLen = maskProps[j].pt.k.length;\n            for (k=0; k<kLen; k+=1) {\n              if (maskProps[j].pt.k[k].s) {\n                maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n              }\n              if (maskProps[j].pt.k[k].e) {\n                maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n              }\n            }\n          }\n        }\n      }\n      if (layerData.ty === 4) {\n        completeShapes(layerData.shapes);\n      }\n    }\n  }\n\n  return function(animationData) {\n    if (checkVersion(minimumVersion, animationData.v)) {\n      iterateLayers(animationData.layers);\n      if (animationData.assets) {\n        let i; let len = animationData.assets.length;\n        for (i=0; i<len; i+=1) {\n          if (animationData.assets[i].layers) {\n            iterateLayers(animationData.assets[i].layers);\n          }\n        }\n      }\n    }\n  };\n}());\n\n/**\n * completeData\n * @private\n * @param {*} animationData animationData\n * @param {*} fontManager fontManager\n */\nfunction completeData(animationData, fontManager) {\n  if (animationData.__complete) {\n    return;\n  }\n  checkColors(animationData);\n  checkText(animationData);\n  checkChars(animationData);\n  checkShapes(animationData);\n  completeLayers(animationData.layers, animationData.assets, fontManager);\n  animationData.__complete = true;\n  // blitAnimation(animationData, animationData.assets, fontManager);\n}\n\n/**\n * completeText\n * @private\n * @param {*} data data\n * @param {*} fontManager fontManager\n */\nfunction completeText(data, fontManager) {\n  if (data.t.a.length === 0 && !('m' in data.t.p)) {\n    data.singleShape = true;\n  }\n}\n\nexport default {\n  completeData,\n  checkColors,\n  checkChars,\n  checkShapes,\n  completeLayers,\n};\n","/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n * @private\n */\n\nconst NEWTON_ITERATIONS = 4;\nconst NEWTON_MIN_SLOPE = 0.001;\nconst SUBDIVISION_PRECISION = 0.0000001;\nconst SUBDIVISION_MAX_ITERATIONS = 10;\n\n\nlet kSplineTableSize = 11;\nlet kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nlet float32ArraySupported = typeof Float32Array === 'function';\n\n/* eslint new-cap: 0 */\n\n/**\n * 公因式A\n *\n * @private\n * @param {number} aA1 控制分量\n * @param {number} aA2 控制分量\n * @return {number} 整个公式中的A公因式的值\n */\nfunction A(aA1, aA2) {\n  return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n}\n\n/**\n * 公因式B\n *\n * @private\n * @param {number} aA1 控制分量1\n * @param {number} aA2 控制分量2\n * @return {number} 整个公式中的B公因式的值\n */\nfunction B(aA1, aA2) {\n  return 3.0 * aA2 - 6.0 * aA1;\n}\n\n/**\n * 公因式C\n *\n * @private\n * @param {number} aA1 控制分量1\n * @param {number} aA2 控制分量2\n * @return {number} 整个公式中的C公因式的值\n */\nfunction C(aA1) {\n  return 3.0 * aA1;\n}\n\n/**\n * 获取aT处的值\n *\n * @private\n * @param {number} aT 三次贝塞尔曲线的t自变量\n * @param {number} aA1 控制分量1\n * @param {number} aA2 控制分量2\n * @return {number} 三次贝塞尔公式的因变量\n */\nfunction calcBezier(aT, aA1, aA2) {\n  return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n}\n\n/**\n * 获取aT处的斜率\n * @private\n * @param {number} aT 三次贝塞尔曲线的t自变量\n * @param {number} aA1 控制分量1\n * @param {number} aA2 控制分量2\n * @return {number} 三次贝塞尔公式的导数\n */\nfunction getSlope(aT, aA1, aA2) {\n  return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n}\n\n/**\n * 二分法查找\n * @private\n * @param {number} aX\n * @param {number} aA\n * @param {number} aB\n * @param {number} mX1\n * @param {number} mX2\n * @return {number} 二分法猜测t的值\n */\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n  let currentX;\n  let currentT;\n  let i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (\n    Math.abs(currentX) > SUBDIVISION_PRECISION\n    &&\n    ++i < SUBDIVISION_MAX_ITERATIONS\n  );\n  return currentT;\n}\n\n/**\n * 牛顿迭代算法，进一步的获取精确的T值\n * @private\n * @param {number} aX\n * @param {number} aGuessT\n * @param {number} mX1\n * @param {number} mX2\n * @return {number} 获取更精确的T值\n */\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n  for (let i = 0; i < NEWTON_ITERATIONS; ++i) {\n    let currentSlope = getSlope(aGuessT, mX1, mX2);\n    if (currentSlope === 0.0) {\n      return aGuessT;\n    }\n    let currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n    aGuessT -= currentX / currentSlope;\n  }\n  return aGuessT;\n}\n\n/**\n * cubic-bezier曲线的两个控制点，默认起始点为 0，结束点为 1\n *\n * @class\n * @private\n * @param {number} mX1 控制点1的x分量\n * @param {number} mY1 控制点1的y分量\n * @param {number} mX2 控制点2的x分量\n * @param {number} mY2 控制点2的y分量\n */\nfunction BezierEasing(mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n    throw new Error('bezier x values must be in [0, 1] range');\n  }\n  this.mX1 = mX1;\n  this.mY1 = mY1;\n  this.mX2 = mX2;\n  this.mY2 = mY2;\n  this.sampleValues = float32ArraySupported ?\n    new Float32Array(kSplineTableSize):\n    new Array(kSplineTableSize);\n\n  this._preCompute();\n\n  this.get = this.get.bind(this);\n}\n\nBezierEasing.prototype._preCompute = function() {\n  // Precompute samples table\n  if (this.mX1 !== this.mY1 || this.mX2 !== this.mY2) {\n    for (let i = 0; i < kSplineTableSize; ++i) {\n      this.sampleValues[i] = calcBezier(i * kSampleStepSize, this.mX1, this.mX2);\n    }\n  }\n};\n\nBezierEasing.prototype._getTForX = function(aX) {\n  let intervalStart = 0.0;\n  let currentSample = 1;\n  let lastSample = kSplineTableSize - 1;\n\n  for (\n    ;\n    currentSample !== lastSample && this.sampleValues[currentSample] <= aX;\n    ++currentSample\n  ) {\n    intervalStart += kSampleStepSize;\n  }\n  --currentSample;\n\n  // Interpolate to provide an initial guess for t\n  let dist = (aX - this.sampleValues[currentSample]) /\n  (this.sampleValues[currentSample + 1] - this.sampleValues[currentSample]);\n  let guessForT = intervalStart + dist * kSampleStepSize;\n\n  let initialSlope = getSlope(guessForT, this.mX1, this.mX2);\n  if (initialSlope >= NEWTON_MIN_SLOPE) {\n    return newtonRaphsonIterate(aX, guessForT, this.mX1, this.mX2);\n  } else if (initialSlope === 0.0) {\n    return guessForT;\n  } else {\n    return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, this.mX1, this.mX2);\n  }\n};\n\n/**\n * 通过x轴近似获取y的值\n *\n * @param {number} x x轴的偏移量\n * @return {number} y 与输入值x对应的y值\n */\nBezierEasing.prototype.get = function(x) {\n  if (this.mX1 === this.mY1 && this.mX2 === this.mY2) return x;\n  if (x === 0) {\n    return 0;\n  }\n  if (x === 1) {\n    return 1;\n  }\n  return calcBezier(this._getTForX(x), this.mY1, this.mY2);\n};\n\nexport default BezierEasing;\n\n","import BezierEasing from './BezierEasing';\n\nconst beziers = {};\n\n/**\n * get a bezierEasing from real time or cache\n * @private\n * @param {*} a in control point x component\n * @param {*} b in control point y component\n * @param {*} c out control point x component\n * @param {*} d out control point y component\n * @param {*} [nm] curver name\n * @return {BezierEasing}\n */\nfunction getBezierEasing(a, b, c, d, nm) {\n  const str = nm || ('bez_' + a+'_'+b+'_'+c+'_'+d).replace(/\\./g, 'p');\n  if (beziers[str]) {\n    return beziers[str];\n  }\n  const bezEasing = new BezierEasing(a, b, c, d);\n  beziers[str] = bezEasing;\n  return bezEasing;\n}\n\nexport default { getBezierEasing };\n","\n/**\n * a\n * @private\n * @param {*} type a\n * @param {*} len a\n * @return {*}\n */\nfunction createRegularArray(type, len) {\n  let i = 0;\n  const arr = [];\n  let value;\n  switch (type) {\n    case 'int16':\n    case 'uint8c':\n      value = 1;\n      break;\n    default:\n      value = 1.1;\n      break;\n  }\n  for (i = 0; i < len; i += 1) {\n    arr.push(value);\n  }\n  return arr;\n}\n\n/**\n * a\n * @private\n * @param {*} type a\n * @param {*} len a\n * @return {*}\n */\nfunction _createTypedArray(type, len) {\n  if (type === 'float32') {\n    return new Float32Array(len);\n  } else if (type === 'int16') {\n    return new Int16Array(len);\n  } else if (type === 'uint8c') {\n    return new Uint8ClampedArray(len);\n  }\n}\n\nlet createTypedArray;\n//  = createTypedArray\nif (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n  createTypedArray = _createTypedArray;\n} else {\n  createTypedArray = createRegularArray;\n}\n\n/**\n * a\n * @private\n * @param {*} len a\n * @return {*}\n */\nfunction createSizedArray(len) {\n  return new Array(len);\n}\n\nexport { createTypedArray, createSizedArray };\n","import { createSizedArray } from '../helpers/arrays';\n\n/**\n * a\n * @private\n * @param {*} arr a\n * @return {*}\n */\nfunction double(arr) {\n  return arr.concat(createSizedArray(arr.length));\n}\n\nexport default { double };\n","import { createSizedArray } from '../helpers/arrays';\nimport pooling from './pooling';\n\nconst PoolFactory = function(initialLength, _create, _release) {\n  let _length = 0;\n  let _maxLength = initialLength;\n  let pool = createSizedArray(_maxLength);\n\n  const ob = {\n    newElement: newElement,\n    release: release,\n  };\n\n  /**\n   * a\n   * @return {*}\n   */\n  function newElement() {\n    let element;\n    if (_length) {\n      _length -= 1;\n      element = pool[_length];\n    } else {\n      element = _create();\n    }\n    return element;\n  }\n\n  /**\n   * a\n   * @param {*} element a\n   */\n  function release(element) {\n    if (_length === _maxLength) {\n      pool = pooling.double(pool);\n      _maxLength = _maxLength*2;\n    }\n    if (_release) {\n      _release(element);\n    }\n    pool[_length] = element;\n    _length += 1;\n  }\n\n  /**\n   * @return {*}\n   */\n  // function clone() {\n  //   var clonedElement = newElement();\n  //   return _clone(clonedElement);\n  // }\n\n  return ob;\n};\n\nexport default PoolFactory;\n","import { createTypedArray } from '../helpers/arrays';\nimport PoolFactory from './PoolFactory';\n\n/**\n * a\n * @private\n * @return {*}\n */\nfunction create() {\n  return createTypedArray('float32', 2);\n}\nconst PointPool = PoolFactory(8, create);\n\nexport default PointPool;\n","import { createSizedArray } from '../helpers/arrays';\nimport PointPool from '../pooling/PointPool';\n\n/**\n * a shape path\n * @private\n */\nexport default class ShapePath {\n  /**\n   * shape path constructor\n   */\n  constructor() {\n    this.c = false;\n    this._length = 0;\n    this._maxLength = 8;\n    this.v = createSizedArray(this._maxLength);\n    this.o = createSizedArray(this._maxLength);\n    this.i = createSizedArray(this._maxLength);\n  }\n\n  /**\n   * set path data\n   * @param {*} closed path is closed ?\n   * @param {*} len path vertex data length\n   */\n  setPathData(closed, len) {\n    this.c = closed;\n    this.setLength(len);\n    let i = 0;\n    while (i < len) {\n      this.v[i] = PointPool.newElement();\n      this.o[i] = PointPool.newElement();\n      this.i[i] = PointPool.newElement();\n      i += 1;\n    }\n  }\n\n  /**\n   * set array pool size\n   * @param {*} len array length\n   */\n  setLength(len) {\n    while (this._maxLength < len) {\n      this.doubleArrayLength();\n    }\n    this._length = len;\n  }\n\n  /**\n   * double array pool size\n   */\n  doubleArrayLength() {\n    this.v = this.v.concat(createSizedArray(this._maxLength));\n    this.i = this.i.concat(createSizedArray(this._maxLength));\n    this.o = this.o.concat(createSizedArray(this._maxLength));\n    this._maxLength *= 2;\n  }\n\n  /**\n   * set x y to this.v | this.i | this.o\n   * @param {*} x x component\n   * @param {*} y y component\n   * @param {*} type data type v | i | o\n   * @param {*} pos data index\n   * @param {*} replace need replace a new point\n   */\n  setXYAt(x, y, type, pos, replace) {\n    let arr;\n    this._length = Math.max(this._length, pos + 1);\n    if (this._length >= this._maxLength) {\n      this.doubleArrayLength();\n    }\n    switch (type) {\n      case 'v':\n        arr = this.v;\n        break;\n      case 'i':\n        arr = this.i;\n        break;\n      case 'o':\n        arr = this.o;\n        break;\n    }\n    if (!arr[pos] || (arr[pos] && !replace)) {\n      arr[pos] = PointPool.newElement();\n    }\n    arr[pos][0] = x;\n    arr[pos][1] = y;\n  }\n\n  /**\n   * setTripleAt\n   * @param {*} vX vertex x\n   * @param {*} vY vertex y\n   * @param {*} oX out control x\n   * @param {*} oY out control y\n   * @param {*} iX in control x\n   * @param {*} iY in control x\n   * @param {*} pos index of pool\n   * @param {*} replace replace point\n   */\n  setTripleAt(vX, vY, oX, oY, iX, iY, pos, replace) {\n    this.setXYAt(vX, vY, 'v', pos, replace);\n    this.setXYAt(oX, oY, 'o', pos, replace);\n    this.setXYAt(iX, iY, 'i', pos, replace);\n  }\n\n  /**\n   * reverse point\n   * @return {*} renturn new shape path\n   */\n  reverse() {\n    const newPath = new ShapePath();\n    newPath.setPathData(this.c, this._length);\n    const vertices = this.v;\n    const outPoints = this.o;\n    const inPoints = this.i;\n    let init = 0;\n    if (this.c) {\n      newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\n      init = 1;\n    }\n    let cnt = this._length - 1;\n    const len = this._length;\n\n    for (let i = init; i < len; i += 1) {\n      newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\n      cnt -= 1;\n    }\n    return newPath;\n  }\n}\n","import PoolFactory from './PoolFactory';\nimport PointPool from './PointPool';\nimport ShapePath from '../shapes/ShapePath';\n\n/**\n * a\n * @private\n * @return {*}\n */\nfunction create() {\n  return new ShapePath();\n}\n\n/**\n * a\n * FIXME: 这里可能不需要这么深度的做 release\n * @private\n * @param {*} shapePath a\n */\nfunction release(shapePath) {\n  const len = shapePath._length;\n  for (let i = 0; i < len; i += 1) {\n    PointPool.release(shapePath.v[i]);\n    PointPool.release(shapePath.i[i]);\n    PointPool.release(shapePath.o[i]);\n    shapePath.v[i] = null;\n    shapePath.i[i] = null;\n    shapePath.o[i] = null;\n  }\n  shapePath._length = 0;\n  shapePath.c = false;\n}\n\n/**\n * a\n * @private\n * @param {*} shape a\n * @return {*}\n */\nfunction clone(shape) {\n  const cloned = ShapePool.newElement();\n  const len = shape._length === undefined ? shape.v.length : shape._length;\n  cloned.setLength(len);\n  cloned.c = shape.c;\n  // var pt;\n\n  for (let i = 0; i < len; i += 1) {\n    cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\n  }\n  return cloned;\n}\n\nconst ShapePool = PoolFactory(4, create, release);\nShapePool.clone = clone;\n\nexport default ShapePool;\n","import { createSizedArray } from '../helpers/arrays';\nimport ShapePool from '../pooling/ShapePool';\n\n/**\n * shape collection\n * @private\n */\nexport default class ShapeCollection {\n  /**\n   * constructor shape collection\n   */\n  constructor() {\n    this._length = 0;\n    this._maxLength = 4;\n    this.shapes = createSizedArray(this._maxLength);\n  }\n\n  /**\n   * add shape to collection\n   * @param {*} shapeData shape data\n   */\n  addShape(shapeData) {\n    if (this._length === this._maxLength) {\n      this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\n      this._maxLength *= 2;\n    }\n    this.shapes[this._length] = shapeData;\n    this._length += 1;\n  }\n\n  /**\n   * release shapes form shape pool\n   */\n  releaseShapes() {\n    for (let i = 0; i < this._length; i += 1) {\n      ShapePool.release(this.shapes[i]);\n    }\n    this._length = 0;\n  }\n}\n","import { createSizedArray } from '../helpers/arrays';\nimport ShapeCollection from '../shapes/ShapeCollection';\nimport ShapePool from './ShapePool';\nimport pooling from './pooling';\n\nlet _length = 0;\nlet _maxLength = 4;\nlet pool = createSizedArray(_maxLength);\n\n/**\n * a\n * @private\n * @return {*}\n */\nfunction newShapeCollection() {\n  let shapeCollection;\n  if (_length) {\n    _length -= 1;\n    shapeCollection = pool[_length];\n  } else {\n    shapeCollection = new ShapeCollection();\n  }\n  return shapeCollection;\n}\n\n/**\n * a\n * @private\n * @param {*} shapeCollection a\n */\nfunction release(shapeCollection) {\n  const len = shapeCollection._length;\n  for (let i = 0; i < len; i += 1) {\n    ShapePool.release(shapeCollection.shapes[i]);\n  }\n  shapeCollection._length = 0;\n\n  if (_length === _maxLength) {\n    pool = pooling.double(pool);\n    _maxLength = _maxLength*2;\n  }\n  pool[_length] = shapeCollection;\n  _length += 1;\n}\n\n\nexport default { newShapeCollection, release };\n","\n/**\n * a\n * @private\n */\nexport default class DynamicPropertyContainer {\n  /**\n   * a\n   */\n  outTypeExpressionMode() {\n    this._hasOutTypeExpression = true;\n    if (this.container) this.container.outTypeExpressionMode();\n  }\n\n  /**\n   * a\n   * @param {*} prop a\n   */\n  addDynamicProperty(prop) {\n    if (this.dynamicProperties.indexOf(prop) === -1) {\n      this.dynamicProperties.push(prop);\n      this.container.addDynamicProperty(this);\n      this._isAnimated = true;\n      if (prop._hasOutTypeExpression) this.outTypeExpressionMode();\n    }\n  }\n\n  /**\n   * a\n   * @param {*} frameNum a\n   */\n  iterateDynamicProperties(frameNum) {\n    this._mdf = false;\n    const len = this.dynamicProperties.length;\n    for (let i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue(frameNum);\n      if (this.dynamicProperties[i]._mdf) {\n        this._mdf = true;\n      }\n    }\n  }\n\n  /**\n   * a\n   * @param {*} container a\n   */\n  initDynamicPropertyContainer(container) {\n    this.container = container;\n    this.dynamicProperties = [];\n    this._mdf = false;\n    this._isAnimated = false;\n    this._hasOutTypeExpression = false;\n  }\n}\n","import { createTypedArray } from '../helpers/arrays';\nimport PoolFactory from './PoolFactory';\nconst defaultCurveSegments = 200;\n/**\n * a\n * @private\n * @return {*}\n */\nfunction create() {\n  return {\n    addedLength: 0,\n    percents: createTypedArray('float32', defaultCurveSegments),\n    lengths: createTypedArray('float32', defaultCurveSegments),\n  };\n}\nconst BezierLengthPool = PoolFactory(8, create);\n\nexport default BezierLengthPool;\n","import BezierLengthPool from './BezierLengthPool';\nimport PoolFactory from './PoolFactory';\n\n/**\n * @private\n * @return {*}\n */\nfunction create() {\n  return {\n    lengths: [],\n    totalLength: 0,\n  };\n}\n\n/**\n * a\n * @private\n * @param {*} element a\n */\nfunction release(element) {\n  const len = element.lengths.length;\n  for (let i = 0; i < len; i += 1) {\n    BezierLengthPool.release(element.lengths[i]);\n  }\n  element.lengths.length = 0;\n}\n\nconst SegmentsLengthPool = PoolFactory(8, create, release);\n\nexport default SegmentsLengthPool;\n","// var easingFunctions = [];\n// var math = Math;\nimport { createSizedArray, createTypedArray } from './helpers/arrays';\nimport BezierLengthPool from './pooling/BezierLengthPool';\nimport SegmentsLengthPool from './pooling/SegmentsLengthPool';\nconst defaultCurveSegments = 200;\n\n/**\n * a\n * @private\n * @param {*} x1 a\n * @param {*} y1 a\n * @param {*} x2 a\n * @param {*} y2 a\n * @param {*} x3 a\n * @param {*} y3 a\n * @return {*}\n */\nfunction pointOnLine2D(x1, y1, x2, y2, x3, y3) {\n  const det1 = (x1 * y2) + (y1 * x3) + (x2 * y3) - (x3 * y2) - (y3 * x1) - (x2 * y1);\n  return det1 > -0.001 && det1 < 0.001;\n}\n\n/**\n * a\n * @private\n * @param {*} x1 a\n * @param {*} y1 a\n * @param {*} z1 a\n * @param {*} x2 a\n * @param {*} y2 a\n * @param {*} z2 a\n * @param {*} x3 a\n * @param {*} y3 a\n * @param {*} z3 a\n * @return {*}\n */\nfunction pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\n  if (z1 === 0 && z2 === 0 && z3 === 0) {\n    return pointOnLine2D(x1, y1, x2, y2, x3, y3);\n  }\n  const dist1 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2) + Math.pow(z2 - z1, 2));\n  const dist2 = Math.sqrt(Math.pow(x3 - x1, 2) + Math.pow(y3 - y1, 2) + Math.pow(z3 - z1, 2));\n  const dist3 = Math.sqrt(Math.pow(x3 - x2, 2) + Math.pow(y3 - y2, 2) + Math.pow(z3 - z2, 2));\n  let diffDist;\n  if (dist1 > dist2) {\n    if (dist1 > dist3) {\n      diffDist = dist1 - dist2 - dist3;\n    } else {\n      diffDist = dist3 - dist2 - dist1;\n    }\n  } else if (dist3 > dist2) {\n    diffDist = dist3 - dist2 - dist1;\n  } else {\n    diffDist = dist2 - dist1 - dist3;\n  }\n  return diffDist > -0.0001 && diffDist < 0.0001;\n}\n\n/**\n * a\n * @private\n * @param {*} pt1 a\n * @param {*} pt2 a\n * @param {*} pt3 a\n * @param {*} pt4 a\n * @return {*}\n */\nfunction getBezierLength(pt1, pt2, pt3, pt4) {\n  const curveSegments = defaultCurveSegments || 200;\n  // var i, len;\n  let addedLength = 0;\n  let ptDistance;\n  const point = [];\n  const lastPoint = [];\n  const lengthData = BezierLengthPool.newElement();\n  const len = pt3.length;\n  for (let k = 0; k < curveSegments; k += 1) {\n    const perc = k / (curveSegments - 1);\n    ptDistance = 0;\n    for (let i = 0; i < len; i += 1) {\n      const ptCoord = Math.pow(1 - perc, 3) * pt1[i] + 3 * Math.pow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * Math.pow(perc, 2) * pt4[i] + Math.pow(perc, 3) * pt2[i];\n      point[i] = ptCoord;\n      if (lastPoint[i] !== null) {\n        ptDistance += Math.pow(point[i] - lastPoint[i], 2);\n      }\n      lastPoint[i] = point[i];\n    }\n    if (ptDistance) {\n      ptDistance = Math.sqrt(ptDistance);\n      addedLength += ptDistance;\n    }\n    lengthData.percents[k] = perc;\n    lengthData.lengths[k] = addedLength;\n  }\n  lengthData.addedLength = addedLength;\n  return lengthData;\n}\n\n/**\n * a\n * @private\n * @param {*} shapeData a\n * @return {*}\n */\nfunction getSegmentsLength(shapeData) {\n  const segmentsLength = SegmentsLengthPool.newElement();\n  const closed = shapeData.c;\n  const pathV = shapeData.v;\n  const pathO = shapeData.o;\n  const pathI = shapeData.i;\n  const len = shapeData._length;\n  const lengths = segmentsLength.lengths;\n  let totalLength = 0;\n  let i = 0;\n  for (; i < len - 1; i += 1) {\n    lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n    totalLength += lengths[i].addedLength;\n  }\n  if (closed && len) {\n    lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n    totalLength += lengths[i].addedLength;\n  }\n  segmentsLength.totalLength = totalLength;\n  return segmentsLength;\n}\n\n/**\n * a\n * @private\n * @param {*} length a\n */\nfunction BezierData(length) {\n  this.segmentLength = 0;\n  this.points = new Array(length);\n}\n\n/**\n * a\n * @private\n * @param {*} partial a\n * @param {*} point a\n */\nfunction PointData(partial, point) {\n  this.partialLength = partial;\n  this.point = point;\n}\n\nconst storedData = {};\n/**\n * a\n * @private\n * @param {*} pt1 a\n * @param {*} pt2 a\n * @param {*} pt3 a\n * @param {*} pt4 a\n * @return {*}\n */\nfunction buildBezierData(pt1, pt2, pt3, pt4) {\n  const bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\n  if (!storedData[bezierName]) {\n    let curveSegments = defaultCurveSegments;\n    // var k, i, len;\n    let addedLength = 0;\n    let ptDistance;\n    let point;\n    let lastPoint = null;\n    if (pt1.length === 2 && (pt1[0] != pt2[0] || pt1[1] != pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\n      curveSegments = 2;\n    }\n    const bezierData = new BezierData(curveSegments);\n    const len = pt3.length;\n    for (let k = 0; k < curveSegments; k += 1) {\n      point = createSizedArray(len);\n      const perc = k / (curveSegments - 1);\n      ptDistance = 0;\n      for (let i = 0; i < len; i += 1) {\n        const ptCoord = Math.pow(1 - perc, 3) * pt1[i] + 3 * Math.pow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * Math.pow(perc, 2) * (pt2[i] + pt4[i]) + Math.pow(perc, 3) * pt2[i];\n        point[i] = ptCoord;\n        if (lastPoint !== null) {\n          ptDistance += Math.pow(point[i] - lastPoint[i], 2);\n        }\n      }\n      ptDistance = Math.sqrt(ptDistance);\n      addedLength += ptDistance;\n      bezierData.points[k] = new PointData(ptDistance, point);\n      lastPoint = point;\n    }\n    bezierData.segmentLength = addedLength;\n    storedData[bezierName] = bezierData;\n  }\n  return storedData[bezierName];\n}\n\n/**\n * a\n * @private\n * @param {*} perc a\n * @param {*} bezierData a\n * @return {*}\n */\nfunction getDistancePerc(perc, bezierData) {\n  const percents = bezierData.percents;\n  const lengths = bezierData.lengths;\n  const len = percents.length;\n  let initPos = Math.floor((len - 1) * perc);\n  const lengthPos = perc * bezierData.addedLength;\n  let lPerc = 0;\n  if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\n    return percents[initPos];\n  } else {\n    const dir = lengths[initPos] > lengthPos ? -1 : 1;\n    let flag = true;\n    while (flag) {\n      if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\n        lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\n        flag = false;\n      } else {\n        initPos += dir;\n      }\n      if (initPos < 0 || initPos >= len - 1) {\n        // FIX for TypedArrays that don't store floating point values with enough accuracy\n        if (initPos === len - 1) {\n          return percents[initPos];\n        }\n        flag = false;\n      }\n    }\n    return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\n  }\n}\n\n/**\n * a\n * @private\n * @param {*} pt1 a\n * @param {*} pt2 a\n * @param {*} pt3 a\n * @param {*} pt4 a\n * @param {*} percent a\n * @param {*} bezierData a\n * @return {*}\n */\nfunction getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\n  const t1 = getDistancePerc(percent, bezierData);\n  // var u0 = 1;\n  const u1 = 1 - t1;\n  const ptX = Math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\n  const ptY = Math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\n  return [ptX, ptY];\n}\n\n// function getSegmentArray() {\n\n// }\n\nconst bezierSegmentPoints = createTypedArray('float32', 8);\n\n/**\n * a\n * @private\n * @param {*} pt1 a\n * @param {*} pt2 a\n * @param {*} pt3 a\n * @param {*} pt4 a\n * @param {*} startPerc a\n * @param {*} endPerc a\n * @param {*} bezierData a\n * @return {*}\n */\nfunction getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\n  /* eslint camelcase: 0 */\n  startPerc = startPerc < 0 ? 0 : startPerc > 1 ? 1 : startPerc;\n  const t0 = getDistancePerc(startPerc, bezierData);\n  endPerc = endPerc > 1 ? 1 : endPerc;\n  const t1 = getDistancePerc(endPerc, bezierData);\n  const len = pt1.length;\n  const u0 = 1 - t0;\n  const u1 = 1 - t1;\n  const u0u0u0 = u0 * u0 * u0;\n  const t0u0u0_3 = t0 * u0 * u0 * 3;\n  const t0t0u0_3 = t0 * t0 * u0 * 3;\n  const t0t0t0 = t0 * t0 * t0;\n  //\n  const u0u0u1 = u0 * u0 * u1;\n  const t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1;\n  const t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1;\n  const t0t0t1 = t0 * t0 * t1;\n  //\n  const u0u1u1 = u0 * u1 * u1;\n  const t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1;\n  const t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1;\n  const t0t1t1 = t0 * t1 * t1;\n  //\n  const u1u1u1 = u1 * u1 * u1;\n  const t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1;\n  const t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1;\n  const t1t1t1 = t1 * t1 * t1;\n  for (let i = 0; i < len; i += 1) {\n    bezierSegmentPoints[i * 4] = Math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000;\n    bezierSegmentPoints[i * 4 + 1] = Math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000;\n    bezierSegmentPoints[i * 4 + 2] = Math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000;\n    bezierSegmentPoints[i * 4 + 3] = Math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000;\n  }\n\n  return bezierSegmentPoints;\n}\n\nexport default {\n  getSegmentsLength,\n  getNewSegment,\n  getPointInSegment,\n  buildBezierData,\n  pointOnLine2D,\n  pointOnLine3D,\n};\n","\nexport const initialDefaultFrame = -999999;\nexport const degToRads = Math.PI / 180;\n\nexport const defaultVector = [0, 0];\n","import Tools from '../tools';\n\nconst EX_REG = /(loopIn|loopOut)\\(([^)]+)/;\nconst STR_REG = /[\"']\\w+[\"']/;\n\n/**\n * Cycle\n * @class\n * @private\n */\nclass Cycle {\n  /**\n   * Pingpong\n   * @param {*} type Pingpong\n   * @param {*} begin Pingpong\n   * @param {*} end Pingpong\n   */\n  constructor(type, begin, end) {\n    this.begin = begin;\n    this.end = end;\n    this.total = this.end - this.begin;\n    this.type = type;\n  }\n\n  /**\n   * progress\n   * @param {number} progress progress\n   * @return {number} progress\n   */\n  update(progress) {\n    if (this.type === 'in') {\n      if (progress >= this.begin) return progress;\n      return this.end - Tools.euclideanModulo(this.begin - progress, this.total);\n    } else if (this.type === 'out') {\n      if (progress <= this.end) return progress;\n      return this.begin + Tools.euclideanModulo(progress - this.end, this.total);\n    }\n  }\n}\n\n/**\n * Pingpong\n * @class\n * @private\n */\nclass Pingpong {\n  /**\n   * Pingpong\n   * @param {*} type Pingpong\n   * @param {*} begin Pingpong\n   * @param {*} end Pingpong\n   */\n  constructor(type, begin, end) {\n    this.begin = begin;\n    this.end = end;\n    this.total = this.end - this.begin;\n    this.type = type;\n  }\n\n  /**\n   * progress\n   * @param {number} progress progress\n   * @return {number} progress\n   */\n  update(progress) {\n    if ((this.type === 'in' && progress < this.begin) || (this.type === 'out' && progress > this.end)) {\n      const space = progress - this.end;\n      return this.pingpong(space);\n    }\n    return progress;\n  }\n\n  /**\n   * pingpong\n   * @param {number} space\n   * @return {number}\n   */\n  pingpong(space) {\n    const dir = Math.floor(space / this.total) % 2;\n    if (dir) {\n      return this.begin + Tools.euclideanModulo(space, this.total);\n    } else {\n      return this.end - Tools.euclideanModulo(space, this.total);\n    }\n  }\n}\n\nconst FN_MAPS = {\n  loopIn(datak, mode, offset) {\n    const begin = datak[0].t;\n    const last = datak.length - 1;\n    const endIdx = Math.min(last, offset);\n    const end = datak[endIdx].t;\n    switch (mode) {\n      case 'cycle':\n        return new Cycle('in', begin, end);\n      case 'pingpong':\n        return new Pingpong('in', begin, end);\n      default:\n        break;\n    }\n    return null;\n  },\n  loopOut(datak, mode, offset) {\n    const last = datak.length - 1;\n    const beginIdx = Math.max(0, last - offset);\n    const begin = datak[beginIdx].t;\n    const end = datak[last].t;\n    switch (mode) {\n      case 'cycle':\n        return new Cycle('out', begin, end);\n      case 'pingpong':\n        return new Pingpong('out', begin, end);\n      default:\n        break;\n    }\n    return null;\n  },\n};\n\n/**\n * parseParams\n * @ignore\n * @param {string} pStr string\n * @return {array}\n */\nfunction parseParams(pStr) {\n  const params = pStr.split(/\\s*,\\s*/);\n  return params.map((it) => {\n    if (STR_REG.test(it)) return it.replace(/\"|'/g, '');\n    return parseInt(it);\n  });\n}\n\n/**\n * parseEx\n * @ignore\n * @param {string} ex string\n * @return {object}\n */\nfunction parseEx(ex) {\n  const rs = ex.match(EX_REG);\n  const ps = parseParams(rs[2]);\n  return {\n    name: rs[1],\n    mode: ps[0],\n    offset: ps[1],\n  };\n}\n\n/**\n * hasSupportExpression\n * @ignore\n * @param {string} ksp string\n * @return {boolean}\n */\nfunction hasSupportExpression(ksp) {\n  return ksp.x && EX_REG.test(ksp.x);\n}\n\n/**\n * getExpression\n * @ignore\n * @param {object} ksp ksp\n * @return {object}\n */\nfunction getExpression(ksp) {\n  const { name, mode, offset = 0 } = parseEx(ksp.x);\n  const _offset = offset === 0 ? ksp.k.length - 1 : offset;\n  return FN_MAPS[name] && FN_MAPS[name](ksp.k, mode, _offset);\n}\n\nexport default { hasSupportExpression, getExpression };\n","import { createTypedArray } from './helpers/arrays';\nimport BezierFactory from './lib/BezierEaser';\nimport bez from './bez';\nimport { degToRads, initialDefaultFrame as initFrame } from '../constant/index';\nimport Expression from './expression/Expression';\n\n/**\n * based on @Toji's https://github.com/toji/gl-matrix/\n * slerp with quaternion\n * @private\n * @param {*} a from a\n * @param {*} b to b\n * @param {*} t progress\n * @return {Array}\n */\nfunction slerp(a, b, t) {\n  const out = [];\n  const ax = a[0];\n  const ay = a[1];\n  const az = a[2];\n  const aw = a[3];\n  let bx = b[0];\n  let by = b[1];\n  let bz = b[2];\n  let bw = b[3];\n\n  let omega;\n  let cosom;\n  let sinom;\n  let scale0;\n  let scale1;\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw;\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  }\n  if ((1.0 - cosom) > 0.000001) {\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    scale0 = 1.0 - t;\n    scale1 = t;\n  }\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n\n  return out;\n}\n\n/**\n * quaternion to euler\n * @private\n * @param {Array} out out euler pointer\n * @param {Array} quat origin quaternion\n */\nfunction quaternionToEuler(out, quat) {\n  const qx = quat[0];\n  const qy = quat[1];\n  const qz = quat[2];\n  const qw = quat[3];\n  const heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\n  const attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\n  const bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\n  out[0] = heading / degToRads;\n  out[1] = attitude / degToRads;\n  out[2] = bank / degToRads;\n}\n\n/**\n * create a quaternion from euler\n * @private\n * @param {Array} values origin euler\n * @return {Array} quaternion\n */\nfunction createQuaternion(values) {\n  const heading = values[0] * degToRads;\n  const attitude = values[1] * degToRads;\n  const bank = values[2] * degToRads;\n  const c1 = Math.cos(heading / 2);\n  const c2 = Math.cos(attitude / 2);\n  const c3 = Math.cos(bank / 2);\n  const s1 = Math.sin(heading / 2);\n  const s2 = Math.sin(attitude / 2);\n  const s3 = Math.sin(bank / 2);\n  const w = c1 * c2 * c3 - s1 * s2 * s3;\n  const x = s1 * s2 * c3 + c1 * c2 * s3;\n  const y = s1 * c2 * c3 + c1 * s2 * s3;\n  const z = c1 * s2 * c3 - s1 * c2 * s3;\n\n  return [x, y, z, w];\n}\n\n/**\n * basic property for animate property unit\n * @private\n */\nclass BaseProperty {\n  /**\n   * interpolate value\n   * @param {Number} frameNum now frame\n   * @param {Object} caching caching object\n   * @return {Array} newValue\n   */\n  interpolateValue(frameNum, caching) {\n    // const offsetTime = this.offsetTime;\n    let newValue;\n    if (this.propType === 'multidimensional') {\n      newValue = createTypedArray('float32', this.pv.length);\n    }\n    let iterationIndex = caching.lastIndex;\n    let i = iterationIndex;\n    let len = this.keyframes.length - 1;\n    let flag = true;\n    let keyData; let nextKeyData;\n\n    while (flag) {\n      keyData = this.keyframes[i];\n      nextKeyData = this.keyframes[i + 1];\n      if (i === len - 1 && frameNum >= nextKeyData.t) {\n        if (keyData.h) {\n          keyData = nextKeyData;\n        }\n        iterationIndex = 0;\n        break;\n      }\n      if (nextKeyData.t > frameNum) {\n        iterationIndex = i;\n        break;\n      }\n      if (i < len - 1) {\n        i += 1;\n      } else {\n        iterationIndex = 0;\n        flag = false;\n      }\n    }\n\n    let k; let kLen; let perc; let jLen; let j; let fnc;\n    let nextKeyTime = nextKeyData.t;\n    let keyTime = keyData.t;\n    let endValue;\n    if (keyData.to) {\n      if (!keyData.bezierData) {\n        keyData.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\n      }\n      let bezierData = keyData.bezierData;\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\n        let ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\n        kLen = bezierData.points[ind].point.length;\n        for (k = 0; k < kLen; k += 1) {\n          newValue[k] = bezierData.points[ind].point[k];\n        }\n        // caching._lastKeyframeIndex = -1;\n      } else {\n        if (keyData.__fnct) {\n          fnc = keyData.__fnct;\n        } else {\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n          keyData.__fnct = fnc;\n        }\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n        let distanceInLine = bezierData.segmentLength*perc;\n\n        let segmentPerc;\n        let addedLength = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\n        j = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\n        flag = true;\n        jLen = bezierData.points.length;\n        while (flag) {\n          addedLength += bezierData.points[j].partialLength;\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\n            kLen = bezierData.points[j].point.length;\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k];\n            }\n            break;\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\n            kLen = bezierData.points[j].point.length;\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n            }\n            break;\n          }\n          if (j < jLen - 1) {\n            j += 1;\n          } else {\n            flag = false;\n          }\n        }\n        caching._lastPoint = j;\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\n        caching._lastKeyframeIndex = i;\n      }\n    } else {\n      let outX; let outY; let inX; let inY; let keyValue;\n      len = keyData.s.length;\n      endValue = nextKeyData.s || keyData.e;\n      if (this.sh && keyData.h !== 1) {\n        if (frameNum >= nextKeyTime) {\n          newValue[0] = endValue[0];\n          newValue[1] = endValue[1];\n          newValue[2] = endValue[2];\n        } else if (frameNum <= keyTime) {\n          newValue[0] = keyData.s[0];\n          newValue[1] = keyData.s[1];\n          newValue[2] = keyData.s[2];\n        } else {\n          let quatStart = createQuaternion(keyData.s);\n          let quatEnd = createQuaternion(endValue);\n          let time = (frameNum - keyTime) / (nextKeyTime - keyTime);\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\n        }\n      } else {\n        for (i = 0; i < len; i += 1) {\n          if (keyData.h !== 1) {\n            if (frameNum >= nextKeyTime) {\n              perc = 1;\n            } else if (frameNum < keyTime) {\n              perc = 0;\n            } else {\n              if (keyData.o.x.constructor === Array) {\n                if (!keyData.__fnct) {\n                  keyData.__fnct = [];\n                }\n                if (!keyData.__fnct[i]) {\n                  outX = (typeof keyData.o.x[i] === 'undefined') ? keyData.o.x[0] : keyData.o.x[i];\n                  outY = (typeof keyData.o.y[i] === 'undefined') ? keyData.o.y[0] : keyData.o.y[i];\n                  inX = (typeof keyData.i.x[i] === 'undefined') ? keyData.i.x[0] : keyData.i.x[i];\n                  inY = (typeof keyData.i.y[i] === 'undefined') ? keyData.i.y[0] : keyData.i.y[i];\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                  keyData.__fnct[i] = fnc;\n                } else {\n                  fnc = keyData.__fnct[i];\n                }\n              } else {\n                if (!keyData.__fnct) {\n                  outX = keyData.o.x;\n                  outY = keyData.o.y;\n                  inX = keyData.i.x;\n                  inY = keyData.i.y;\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                  keyData.__fnct = fnc;\n                } else {\n                  fnc = keyData.__fnct;\n                }\n              }\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime ));\n            }\n          }\n\n          endValue = nextKeyData.s || keyData.e;\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\n\n          if (this.propType === 'multidimensional') {\n            newValue[i] = keyValue;\n          } else {\n            newValue = keyValue;\n          }\n        }\n      }\n    }\n    caching.lastIndex = iterationIndex;\n    return newValue;\n  }\n\n  /**\n   * get value at comp frame\n   * @param {*} frameNum a\n   * @return {Array|Number}\n   */\n  getValueAtCurrentTime(frameNum) {\n    // let frameNum = this.comp.renderedFrame;\n    let initTime = this.keyframes[0].t;\n    let endTime = this.keyframes[this.keyframes.length- 1].t;\n    if (!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))) {\n      if (this._caching.lastFrame >= frameNum) {\n        this._caching._lastKeyframeIndex = -1;\n        this._caching.lastIndex = 0;\n      }\n\n      let renderResult = this.interpolateValue(frameNum, this._caching);\n      this.pv = renderResult;\n    }\n    this._caching.lastFrame = frameNum;\n    return this.pv;\n  }\n\n  /**\n   * set value to this.v prop\n   * @param {Array|Number} val value\n   */\n  setVValue(val) {\n    let multipliedValue;\n    if (this.propType === 'unidimensional') {\n      multipliedValue = val * this.mult;\n      if (Math.abs(this.v - multipliedValue) > 0.00001) {\n        this.v = multipliedValue;\n        this._mdf = true;\n      }\n    } else {\n      let i = 0;\n      const len = this.v.length;\n      while (i < len) {\n        multipliedValue = val[i] * this.mult;\n        if (Math.abs(this.v[i] - multipliedValue) > 0.00001) {\n          this.v[i] = multipliedValue;\n          this._mdf = true;\n        }\n        i += 1;\n      }\n    }\n  }\n\n  /**\n   * process effects sequence\n   * @param {*} frameNum a\n   */\n  processEffectsSequence(frameNum) {\n    if (this.expression) {\n      frameNum = this.expression.update(frameNum);\n    }\n    if (frameNum === this.frameId || !this.effectsSequence.length) {\n      return;\n    }\n    if (this.lock) {\n      this.setVValue(this.pv);\n      return;\n    }\n    this.lock = true;\n    this._mdf = this._isFirstFrame;\n    // let multipliedValue;\n    let i; let len = this.effectsSequence.length;\n    let finalValue = this.kf ? this.pv : this.data.k;\n    for (i = 0; i < len; i += 1) {\n      finalValue = this.effectsSequence[i](frameNum);\n    }\n    this.setVValue(finalValue);\n    this._isFirstFrame = false;\n    this.lock = false;\n    this.frameId = frameNum;\n  }\n\n  /**\n   * a\n   * @param {*} effectFunction a\n   */\n  addEffect(effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.container.addDynamicProperty(this);\n  }\n}\n\n/**\n * unidimensional value property\n * @private\n */\nclass ValueProperty extends BaseProperty {\n  /**\n   * constructor unidimensional value property\n   * @param {*} elem element node\n   * @param {*} data unidimensional value property data\n   * @param {*} mult data mult scale\n   * @param {*} container value property container\n   */\n  constructor(elem, data, mult, container) {\n    super();\n    this.propType = 'unidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this.v = mult ? data.k * mult : data.k;\n    this.pv = data.k;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.k = false;\n    this.kf = false;\n    this.vel = 0;\n    this.effectsSequence = [];\n    this._isFirstFrame = true;\n    this.getValue = this.processEffectsSequence;\n  }\n}\n\n/**\n * multidimensional value property\n * @private\n */\nclass MultiDimensionalProperty extends BaseProperty {\n  /**\n   * constructor multidimensional value property\n   * @param {*} elem element node\n   * @param {*} data multidimensional value property data\n   * @param {*} mult data mult scale\n   * @param {*} container value property container\n   */\n  constructor(elem, data, mult, container) {\n    super();\n    this.propType = 'multidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.k = false;\n    this.kf = false;\n    this.frameId = -1;\n    const len = data.k.length;\n    this.v = createTypedArray('float32', len);\n    this.pv = createTypedArray('float32', len);\n    // var arr = createTypedArray('float32', len);\n    this.vel = createTypedArray('float32', len);\n    for (let i = 0; i < len; i += 1) {\n      this.v[i] = data.k[i] * this.mult;\n      this.pv[i] = data.k[i];\n    }\n    this._isFirstFrame = true;\n    this.effectsSequence = [];\n    this.getValue = this.processEffectsSequence;\n  }\n}\n\n/**\n * keyframed unidimensional value property\n * @private\n */\nclass KeyframedValueProperty extends BaseProperty {\n  /**\n   * constructor keyframed unidimensional value property\n   * @param {*} elem element node\n   * @param {*} data keyframed unidimensional value property data\n   * @param {*} mult data mult scale\n   * @param {*} container value property container\n   */\n  constructor(elem, data, mult, container) {\n    super();\n    this.propType = 'unidimensional';\n    this.keyframes = data.k;\n    // this.offsetTime = elem.data.st;\n    this.frameId = -1;\n    this._caching = { lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1 };\n    this.k = true;\n    this.kf = true;\n    this.data = data;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.v = initFrame;\n    this.pv = initFrame;\n    this._isFirstFrame = true;\n    this.getValue = this.processEffectsSequence;\n    // this.setVValue = setVValue;\n    // this.interpolateValue = interpolateValue;\n    this.effectsSequence = [this.getValueAtCurrentTime.bind(this)];\n    // this.addEffect = addEffect;\n\n    this._hasOutTypeExpression = false;\n    if (Expression.hasSupportExpression(data)) {\n      this.expression = Expression.getExpression(data);\n      this._hasOutTypeExpression = this.expression.type === 'out';\n    }\n  }\n}\n\n/**\n * keyframed multidimensional value property\n * @private\n */\nclass KeyframedMultidimensionalProperty extends BaseProperty {\n  /**\n   * constructor keyframed multidimensional value property\n   * @param {*} elem element node\n   * @param {*} data keyframed multidimensional value property data\n   * @param {*} mult data mult scale\n   * @param {*} container value property container\n   */\n  constructor(elem, data, mult, container) {\n    super();\n    this.propType = 'multidimensional';\n    let i; let len = data.k.length;\n    let s; let e; let to; let ti;\n    for (i = 0; i < len - 1; i += 1) {\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\n        s = data.k[i].s;\n        e = data.k[i + 1].s;\n        to = data.k[i].to;\n        ti = data.k[i].ti;\n        if ((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2]))) {\n          data.k[i].to = null;\n          data.k[i].ti = null;\n        }\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\n          if (s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\n            data.k[i].to = null;\n            data.k[i].ti = null;\n          }\n        }\n      }\n    }\n    this.effectsSequence = [this.getValueAtCurrentTime.bind(this)];\n    this.keyframes = data.k;\n    // this.offsetTime = elem.data.st;\n    this.k = true;\n    this.kf = true;\n    this._isFirstFrame = true;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.getValue = this.processEffectsSequence;\n    // this.setVValue = setVValue;\n    // this.interpolateValue = interpolateValue;\n    this.frameId = -1;\n    let arrLen = data.k[0].s.length;\n    this.v = createTypedArray('float32', arrLen);\n    this.pv = createTypedArray('float32', arrLen);\n    for (i = 0; i < arrLen; i += 1) {\n      this.v[i] = initFrame;\n      this.pv[i] = initFrame;\n    }\n    this._caching = { lastFrame: initFrame, lastIndex: 0, value: createTypedArray('float32', arrLen) };\n    // this.addEffect = addEffect;\n\n    this._hasOutTypeExpression = false;\n    if (Expression.hasSupportExpression(data)) {\n      this.expression = Expression.getExpression(data);\n      this._hasOutTypeExpression = this.expression.type === 'out';\n    }\n  }\n}\n\n/**\n * getProp by data\n * @private\n * @param {*} elem element node\n * @param {*} data keyframed multidimensional value property data\n * @param {*} type keyframed type or not\n * @param {*} mult data mult scale\n * @param {*} container value property container\n * @return {ValueProperty|MultiDimensionalProperty|KeyframedValueProperty|KeyframedMultidimensionalProperty}\n */\nfunction getProp(elem, data, type, mult, container) {\n  let p;\n  if (!data.k.length) {\n    p = new ValueProperty(elem, data, mult, container);\n  } else if (typeof (data.k[0]) === 'number') {\n    p = new MultiDimensionalProperty(elem, data, mult, container);\n  } else {\n    switch (type) {\n      case 0:\n        p = new KeyframedValueProperty(elem, data, mult, container);\n        break;\n      case 1:\n        p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\n        break;\n    }\n  }\n  if (p.effectsSequence.length) {\n    container.addDynamicProperty(p);\n  }\n  return p;\n}\n\nexport default { getProp };\n","import BezierFactory from '../lib/BezierEaser';\nimport ShapePool from '../pooling/ShapePool';\nimport ShapeCollectionPool from '../pooling/ShapeCollectionPool';\nimport DynamicPropertyContainer from '../helpers/dynamicProperties';\nimport PropertyFactory from '../PropertyFactory';\nimport { degToRads, initialDefaultFrame as initFrame } from '../../constant/index';\nimport Expression from '../expression/Expression';\n// import { hasExpression, getExpression } from '../../utils/Expression';\n// const initFrame = -999999;\n// const degToRads = Math.PI/180;\n\n/**\n * basic shape property\n * @private\n */\nclass BaseShapeProperty {\n  /**\n   * interpolate shape\n   * @param {*} frameNum frame number\n   * @param {*} previousValue previous value\n   * @param {*} caching caching object\n   */\n  interpolateShape(frameNum, previousValue, caching) {\n    let iterationIndex = caching.lastIndex;\n    let keyPropS; let keyPropE; let isHold; let j; let k; let jLen; let kLen; let perc; let vertexValue;\n    let kf = this.keyframes;\n    if (frameNum < kf[0].t) {\n      keyPropS = kf[0].s[0];\n      isHold = true;\n      iterationIndex = 0;\n    } else if (frameNum >= kf[kf.length - 1].t) {\n      keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\n      /* if(kf[kf.length - 1].s){\n                keyPropS = kf[kf.length - 1].s[0];\n            }else{\n                keyPropS = kf[kf.length - 2].e[0];\n            }*/\n      isHold = true;\n    } else {\n      let i = iterationIndex;\n      let len = kf.length- 1; let flag = true; let keyData; let nextKeyData;\n      while (flag) {\n        keyData = kf[i];\n        nextKeyData = kf[i+1];\n        if (nextKeyData.t > frameNum) {\n          break;\n        }\n        if (i < len - 1) {\n          i += 1;\n        } else {\n          flag = false;\n        }\n      }\n      isHold = keyData.h === 1;\n      iterationIndex = i;\n      if (!isHold) {\n        if (frameNum >= nextKeyData.t) {\n          perc = 1;\n        } else if (frameNum < keyData.t) {\n          perc = 0;\n        } else {\n          let fnc;\n          if (keyData.__fnct) {\n            fnc = keyData.__fnct;\n          } else {\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\n            keyData.__fnct = fnc;\n          }\n          perc = fnc((frameNum-keyData.t)/(nextKeyData.t-keyData.t));\n        }\n        keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\n      }\n      keyPropS = keyData.s[0];\n    }\n    jLen = previousValue._length;\n    kLen = keyPropS.i[0].length;\n    caching.lastIndex = iterationIndex;\n\n    for (j=0; j<jLen; j+=1) {\n      for (k=0; k<kLen; k+=1) {\n        vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k]+(keyPropE.i[j][k]-keyPropS.i[j][k])*perc;\n        previousValue.i[j][k] = vertexValue;\n        vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k]+(keyPropE.o[j][k]-keyPropS.o[j][k])*perc;\n        previousValue.o[j][k] = vertexValue;\n        vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k]+(keyPropE.v[j][k]-keyPropS.v[j][k])*perc;\n        previousValue.v[j][k] = vertexValue;\n      }\n    }\n  }\n\n  /**\n   * interpolate shape with currentTime\n   * @param {*} frameNum frame number\n   * @return {*}\n   */\n  interpolateShapeCurrentTime(frameNum) {\n    let initTime = this.keyframes[0].t;\n    let endTime = this.keyframes[this.keyframes.length - 1].t;\n    let lastFrame = this._caching.lastFrame;\n    if (!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))) {\n      // //\n      this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\n      this.interpolateShape(frameNum, this.pv, this._caching);\n      // //\n    }\n    this._caching.lastFrame = frameNum;\n    return this.pv;\n  }\n\n  /**\n   * reset shape\n   */\n  resetShape() {\n    this.paths = this.localShapeCollection;\n  }\n\n  /**\n   * is shapes is equal\n   * @param {*} shape1 shape1\n   * @param {*} shape2 shape2\n   * @return {*}\n   */\n  shapesEqual(shape1, shape2) {\n    if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\n      return false;\n    }\n    let i; let len = shape1._length;\n    for (i = 0; i < len; i += 1) {\n      if (shape1.v[i][0] !== shape2.v[i][0]\n            || shape1.v[i][1] !== shape2.v[i][1]\n            || shape1.o[i][0] !== shape2.o[i][0]\n            || shape1.o[i][1] !== shape2.o[i][1]\n            || shape1.i[i][0] !== shape2.i[i][0]\n            || shape1.i[i][1] !== shape2.i[i][1]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * set new path to this.v\n   * @param {*} newPath new path\n   */\n  setVValue(newPath) {\n    if (!this.shapesEqual(this.v, newPath)) {\n      this.v = ShapePool.clone(newPath);\n      this.localShapeCollection.releaseShapes();\n      this.localShapeCollection.addShape(this.v);\n      this._mdf = true;\n      this.paths = this.localShapeCollection;\n    }\n  }\n\n  /**\n   * process effects sequence\n   * @param {*} frameNum frame number\n   */\n  processEffectsSequence(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    } else if (!this.effectsSequence.length) {\n      this._mdf = false;\n      return;\n    }\n    if (this.lock) {\n      this.setVValue(this.pv);\n      return;\n    }\n    this.lock = true;\n    this._mdf = false;\n    let finalValue = this.kf ? this.pv : this.data.ks ? this.data.ks.k : this.data.pt.k;\n    let i; let len = this.effectsSequence.length;\n    for (i = 0; i < len; i += 1) {\n      finalValue = this.effectsSequence[i](frameNum);\n    }\n    this.setVValue(finalValue);\n    this.lock = false;\n    this.frameId = frameNum;\n  }\n\n  /**\n   * add effect\n   * @param {*} effectFunction effect funstion\n   */\n  addEffect(effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.container.addDynamicProperty(this);\n  }\n}\n\n/**\n * shape property\n * @private\n */\nclass ShapeProperty extends BaseShapeProperty {\n  /**\n   * constructor shape property\n   * @param {*} elem element node\n   * @param {*} data shape value property data\n   * @param {*} type shape propType\n   */\n  constructor(elem, data, type) {\n    super();\n    this.propType = 'shape';\n    this.comp = elem.comp;\n    this.container = elem;\n    this.elem = elem;\n    this.data = data;\n    this.k = false;\n    this.kf = false;\n    this._mdf = false;\n    let pathData = type === 3 ? data.pt.k : data.ks.k;\n    this.v = ShapePool.clone(pathData);\n    this.pv = ShapePool.clone(this.v);\n    this.localShapeCollection = ShapeCollectionPool.newShapeCollection();\n    this.paths = this.localShapeCollection;\n    this.paths.addShape(this.v);\n    this.reset = this.resetShape;\n    this.effectsSequence = [];\n    this.getValue = this.processEffectsSequence;\n  }\n}\n\n/**\n * keyframed shape property\n * @private\n */\nclass KeyframedShapeProperty extends BaseShapeProperty {\n  /**\n   * constructor keyframed shape property\n   * @param {*} elem element node\n   * @param {*} data shape value property data\n   * @param {*} type shape propType\n   */\n  constructor(elem, data, type) {\n    super();\n    this.propType = 'shape';\n    this.comp = elem.comp;\n    this.elem = elem;\n    this.container = elem;\n    // this.offsetTime = elem.data.st;\n    this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n    this.k = true;\n    this.kf = true;\n    let len = this.keyframes[0].s[0].i.length;\n    // let jLen = this.keyframes[0].s[0].i[0].length;\n    this.v = ShapePool.newElement();\n    this.v.setPathData(this.keyframes[0].s[0].c, len);\n    this.pv = ShapePool.clone(this.v);\n    this.localShapeCollection = ShapeCollectionPool.newShapeCollection();\n    this.paths = this.localShapeCollection;\n    this.paths.addShape(this.v);\n    this.lastFrame = initFrame;\n    this.reset = this.resetShape;\n    this._caching = { lastFrame: initFrame, lastIndex: 0 };\n    this.effectsSequence = [this.interpolateShapeCurrentTime.bind(this)];\n    this.getValue = this.processEffectsSequence;\n\n    this._hasOutTypeExpression = false;\n    if (Expression.hasSupportExpression(data)) {\n      this.expression = Expression.getExpression(data);\n      this._hasOutTypeExpression = this.expression.type === 'out';\n    }\n  }\n}\n\n/**\n * ellipse shape property\n * @private\n */\nclass EllShapeProperty extends DynamicPropertyContainer {\n  /**\n   * constructor ellipse shape property\n   * @param {*} elem element node\n   * @param {*} data shape value property data\n   */\n  constructor(elem, data) {\n    super();\n    // this.v = {\n    //   v: createSizedArray(4),\n    //   i: createSizedArray(4),\n    //   o: createSizedArray(4),\n    //   c: true\n    // };\n    this.v = ShapePool.newElement();\n    this.v.setPathData(true, 4);\n    this.localShapeCollection = ShapeCollectionPool.newShapeCollection();\n    this.paths = this.localShapeCollection;\n    this.localShapeCollection.addShape(this.v);\n    this.d = data.d;\n    this.elem = elem;\n    this.comp = elem.comp;\n    this.frameId = -1;\n    this.initDynamicPropertyContainer(elem);\n    this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n    this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.k = false;\n      this.convertEllToPath();\n    }\n  }\n\n  /**\n   * reset shape\n   */\n  reset() {\n    this.paths = this.localShapeCollection;\n  }\n\n  /**\n   * get point with frameId\n   * @param {*} frameNum frame number\n   */\n  getValue(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n    this.iterateDynamicProperties(frameNum);\n    this.frameId = frameNum;\n\n    if (this._mdf) {\n      this.convertEllToPath();\n    }\n  }\n\n  /**\n   * convert ellipse to path\n   */\n  convertEllToPath() {\n    const p0 = this.p.v[0];\n    const p1 = this.p.v[1];\n    const s0 = this.s.v[0]/2;\n    const s1 = this.s.v[1]/2;\n    const _cw = this.d !== 3;\n    const _v = this.v;\n    _v.v[0][0] = p0;\n    _v.v[0][1] = p1 - s1;\n    _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\n    _v.v[1][1] = p1;\n    _v.v[2][0] = p0;\n    _v.v[2][1] = p1 + s1;\n    _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\n    _v.v[3][1] = p1;\n    _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n    _v.i[0][1] = p1 - s1;\n    _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\n    _v.i[1][1] = p1 - s1 * cPoint;\n    _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n    _v.i[2][1] = p1 + s1;\n    _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\n    _v.i[3][1] = p1 + s1 * cPoint;\n    _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n    _v.o[0][1] = p1 - s1;\n    _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\n    _v.o[1][1] = p1 + s1 * cPoint;\n    _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n    _v.o[2][1] = p1 + s1;\n    _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\n    _v.o[3][1] = p1 - s1 * cPoint;\n  }\n}\n\n\n/**\n * star shape property\n * @private\n */\nclass StarShapeProperty extends DynamicPropertyContainer {\n  /**\n   * constructor star shape property\n   * @param {*} elem element node\n   * @param {*} data shape value property data\n   */\n  constructor(elem, data) {\n    super();\n    this.v = ShapePool.newElement();\n    this.v.setPathData(true, 0);\n    this.elem = elem;\n    this.comp = elem.comp;\n    this.data = data;\n    this.frameId = -1;\n    this.d = data.d;\n    this.initDynamicPropertyContainer(elem);\n    if (data.sy === 1) {\n      this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\n      this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\n      this.convertToPath = this.convertStarToPath;\n    } else {\n      this.convertToPath = this.convertPolygonToPath;\n    }\n    this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\n    this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n    this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\n    this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\n    this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\n    this.localShapeCollection = ShapeCollectionPool.newShapeCollection();\n    this.localShapeCollection.addShape(this.v);\n    this.paths = this.localShapeCollection;\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.k = false;\n      this.convertToPath();\n    }\n  }\n\n  /**\n   * reset shape\n   */\n  reset() {\n    this.paths = this.localShapeCollection;\n  }\n\n  /**\n   * get point with frameId\n   * @param {*} frameNum frame number\n   */\n  getValue(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n    this.frameId = frameNum;\n    this.iterateDynamicProperties(frameNum);\n\n    if (this._mdf) {\n      this.convertToPath();\n    }\n  }\n\n  /**\n   * convert star to path\n   */\n  convertStarToPath() {\n    let numPts = Math.floor(this.pt.v)*2;\n    let angle = Math.PI*2/numPts;\n    /* this.v.v.length = numPts;\n            this.v.i.length = numPts;\n            this.v.o.length = numPts;*/\n    let longFlag = true;\n    let longRad = this.or.v;\n    let shortRad = this.ir.v;\n    let longRound = this.os.v;\n    let shortRound = this.is.v;\n    let longPerimSegment = 2*Math.PI*longRad/(numPts*2);\n    let shortPerimSegment = 2*Math.PI*shortRad/(numPts*2);\n    let i; let rad; let roundness; let perimSegment; let currentAng = -Math.PI/ 2;\n    currentAng += this.r.v;\n    let dir = this.data.d === 3 ? -1 : 1;\n    this.v._length = 0;\n    for (i=0; i<numPts; i+=1) {\n      rad = longFlag ? longRad : shortRad;\n      roundness = longFlag ? longRound : shortRound;\n      perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n      let x = rad * Math.cos(currentAng);\n      let y = rad * Math.sin(currentAng);\n      let ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\n      let oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\n      x += + this.p.v[0];\n      y += + this.p.v[1];\n      this.v.setTripleAt(x, y, x-ox*perimSegment*roundness*dir, y-oy*perimSegment*roundness*dir, x+ox*perimSegment*roundness*dir, y+oy*perimSegment*roundness*dir, i, true);\n\n      /* this.v.v[i] = [x,y];\n                this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\n                this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\n                this.v._length = numPts;*/\n      longFlag = !longFlag;\n      currentAng += angle*dir;\n    }\n  }\n\n  /**\n   * convert polygon to path\n   */\n  convertPolygonToPath() {\n    let numPts = Math.floor(this.pt.v);\n    let angle = Math.PI*2/numPts;\n    let rad = this.or.v;\n    let roundness = this.os.v;\n    let perimSegment = 2*Math.PI*rad/(numPts*4);\n    let i; let currentAng = -Math.PI/ 2;\n    let dir = this.data.d === 3 ? -1 : 1;\n    currentAng += this.r.v;\n    this.v._length = 0;\n    for (i=0; i<numPts; i+=1) {\n      let x = rad * Math.cos(currentAng);\n      let y = rad * Math.sin(currentAng);\n      let ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\n      let oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\n      x += + this.p.v[0];\n      y += + this.p.v[1];\n      this.v.setTripleAt(x, y, x-ox*perimSegment*roundness*dir, y-oy*perimSegment*roundness*dir, x+ox*perimSegment*roundness*dir, y+oy*perimSegment*roundness*dir, i, true);\n      currentAng += angle*dir;\n    }\n    this.paths.length = 0;\n    this.paths[0] = this.v;\n  }\n}\n\nconst roundCorner = 0.5519;\nconst cPoint = roundCorner;\n\n/**\n * rect shape property\n * @private\n */\nclass RectShapeProperty extends DynamicPropertyContainer {\n  /**\n   * constructor rect shape property\n   * @param {*} elem element node\n   * @param {*} data shape value property data\n   */\n  constructor(elem, data) {\n    super();\n    this.v = ShapePool.newElement();\n    this.v.c = true;\n    this.localShapeCollection = ShapeCollectionPool.newShapeCollection();\n    this.localShapeCollection.addShape(this.v);\n    this.paths = this.localShapeCollection;\n    this.elem = elem;\n    this.comp = elem.comp;\n    this.frameId = -1;\n    this.d = data.d;\n    this.initDynamicPropertyContainer(elem);\n    this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n    this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n    this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.k = false;\n      this.convertRectToPath();\n    }\n  }\n\n  /**\n   * reset shape\n   */\n  reset() {\n    this.paths = this.localShapeCollection;\n  }\n\n  /**\n   * get point with frameId\n   * @param {*} frameNum frame number\n   */\n  getValue(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n    this.frameId = frameNum;\n    this.iterateDynamicProperties(frameNum);\n\n    if (this._mdf) {\n      this.convertRectToPath();\n    }\n  }\n\n  /**\n   * convert rect to path\n   */\n  convertRectToPath() {\n    let p0 = this.p.v[0]; let p1 = this.p.v[1]; let v0 = this.s.v[0]/2; let v1 = this.s.v[1]/2;\n    let round = Math.min(v0, v1, this.r.v);\n    let cPoint = round*(1-roundCorner);\n    this.v._length = 0;\n\n    if (this.d === 2 || this.d === 1) {\n      this.v.setTripleAt(p0+v0, p1-v1+round, p0+v0, p1-v1+round, p0+v0, p1-v1+cPoint, 0, true);\n      this.v.setTripleAt(p0+v0, p1+v1-round, p0+v0, p1+v1-cPoint, p0+v0, p1+v1-round, 1, true);\n      if (round!== 0) {\n        this.v.setTripleAt(p0+v0-round, p1+v1, p0+v0-round, p1+v1, p0+v0-cPoint, p1+v1, 2, true);\n        this.v.setTripleAt(p0-v0+round, p1+v1, p0-v0+cPoint, p1+v1, p0-v0+round, p1+v1, 3, true);\n        this.v.setTripleAt(p0-v0, p1+v1-round, p0-v0, p1+v1-round, p0-v0, p1+v1-cPoint, 4, true);\n        this.v.setTripleAt(p0-v0, p1-v1+round, p0-v0, p1-v1+cPoint, p0-v0, p1-v1+round, 5, true);\n        this.v.setTripleAt(p0-v0+round, p1-v1, p0-v0+round, p1-v1, p0-v0+cPoint, p1-v1, 6, true);\n        this.v.setTripleAt(p0+v0-round, p1-v1, p0+v0-cPoint, p1-v1, p0+v0-round, p1-v1, 7, true);\n      } else {\n        this.v.setTripleAt(p0-v0, p1+v1, p0-v0+cPoint, p1+v1, p0-v0, p1+v1, 2);\n        this.v.setTripleAt(p0-v0, p1-v1, p0-v0, p1-v1+cPoint, p0-v0, p1-v1, 3);\n      }\n    } else {\n      this.v.setTripleAt(p0+v0, p1-v1+round, p0+v0, p1-v1+cPoint, p0+v0, p1-v1+round, 0, true);\n      if (round!== 0) {\n        this.v.setTripleAt(p0+v0-round, p1-v1, p0+v0-round, p1-v1, p0+v0-cPoint, p1-v1, 1, true);\n        this.v.setTripleAt(p0-v0+round, p1-v1, p0-v0+cPoint, p1-v1, p0-v0+round, p1-v1, 2, true);\n        this.v.setTripleAt(p0-v0, p1-v1+round, p0-v0, p1-v1+round, p0-v0, p1-v1+cPoint, 3, true);\n        this.v.setTripleAt(p0-v0, p1+v1-round, p0-v0, p1+v1-cPoint, p0-v0, p1+v1-round, 4, true);\n        this.v.setTripleAt(p0-v0+round, p1+v1, p0-v0+round, p1+v1, p0-v0+cPoint, p1+v1, 5, true);\n        this.v.setTripleAt(p0+v0-round, p1+v1, p0+v0-cPoint, p1+v1, p0+v0-round, p1+v1, 6, true);\n        this.v.setTripleAt(p0+v0, p1+v1-round, p0+v0, p1+v1-round, p0+v0, p1+v1-cPoint, 7, true);\n      } else {\n        this.v.setTripleAt(p0-v0, p1-v1, p0-v0+cPoint, p1-v1, p0-v0, p1-v1, 1, true);\n        this.v.setTripleAt(p0-v0, p1+v1, p0-v0, p1+v1-cPoint, p0-v0, p1+v1, 2, true);\n        this.v.setTripleAt(p0+v0, p1+v1, p0+v0-cPoint, p1+v1, p0+v0, p1+v1, 3, true);\n      }\n    }\n  }\n}\n\n/**\n * get shape prop with data\n * @private\n * @param {*} elem element node\n * @param {*} data shape value property data\n * @param {*} type lottie shape type\n * @return {*}\n */\nfunction getShapeProp(elem, data, type) {\n  let prop;\n  if (type === 3 || type === 4) {\n    const dataProp = type === 3 ? data.pt : data.ks;\n    const keys = dataProp.k;\n    if (keys.length) {\n      prop = new KeyframedShapeProperty(elem, data, type);\n    } else {\n      prop = new ShapeProperty(elem, data, type);\n    }\n  } else if (type === 5) {\n    prop = new RectShapeProperty(elem, data);\n  } else if (type === 6) {\n    prop = new EllShapeProperty(elem, data);\n  } else if (type === 7) {\n    prop = new StarShapeProperty(elem, data);\n  }\n  if (prop.k) {\n    // FIXME: maybe not needed\n    elem.addDynamicProperty(prop);\n  }\n  return prop;\n}\n\n/**\n * get ShapeProperty class\n * @private\n * @return {ShapeProperty}\n */\nfunction getConstructorFunction() {\n  return ShapeProperty;\n}\n\n/**\n * get KeyframedShapeProperty class\n * @private\n * @return {KeyframedShapeProperty}\n */\nfunction getKeyframedConstructorFunction() {\n  return KeyframedShapeProperty;\n}\n\nexport default { getShapeProp, getConstructorFunction, getKeyframedConstructorFunction };\n","// import {\n//   Graphics,\n// } from 'pixi.js';\nimport ShapePropertyFactory from '../utils/shapes/ShapeProperty';\nimport { createSizedArray } from '../utils/helpers/arrays';\nimport DynamicPropertyContainer from '../utils/helpers/dynamicProperties';\n\n/**\n * a\n * @private\n */\nexport default class MaskFrames extends DynamicPropertyContainer {\n  /**\n   * a\n   * @param {*} elem a\n   * @param {*} masksProperties a\n   * @param {*} session a\n   */\n  constructor(elem, masksProperties, session) {\n    super();\n    this.frameId = -1;\n    this.elem = elem;\n    this.session = session;\n    this.masksProperties = masksProperties || [];\n    this.initDynamicPropertyContainer(elem);\n    this.viewData = createSizedArray(this.masksProperties.length);\n    const len = this.masksProperties.length;\n    let hasMasks = false;\n    for (let i = 0; i < len; i++) {\n      if (this.masksProperties[i].mode !== 'n') {\n        hasMasks = true;\n      }\n      this.viewData[i] = ShapePropertyFactory.getShapeProp(this, this.masksProperties[i], 3);\n      this.viewData[i].inv = this.masksProperties[i].inv;\n    }\n    this.hasMasks = hasMasks;\n  }\n\n  /**\n   * a\n   * @param {number} frameNum frameNum\n   */\n  getValue(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n\n    this.iterateDynamicProperties(frameNum);\n\n    this.frameId = frameNum;\n  }\n}\n","/* eslint-disable */\nimport { createTypedArray } from '../helpers/arrays'\n/*!\n Transformation Matrix v2.0\n (c) Epistemex 2014-2015\n www.epistemex.com\n By Ken Fyrstenberg\n Contributions by leeoniya.\n License: MIT, header required.\n */\n\n/**\n * 2D transformation matrix object initialized with identity matrix.\n *\n * The matrix can synchronize a canvas context by supplying the context\n * as an argument, or later apply current absolute transform to an\n * existing context.\n *\n * All values are handled as floating point values.\n *\n * @private\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\n * @prop {number} a - scale x\n * @prop {number} b - shear y\n * @prop {number} c - shear x\n * @prop {number} d - scale y\n * @prop {number} e - translate x\n * @prop {number} f - translate y\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\n * @constructor\n */\n\nvar Matrix = (function(){\n\n    var _cos = Math.cos;\n    var _sin = Math.sin;\n    var _tan = Math.tan;\n    var _rnd = Math.round;\n\n    function reset(){\n        this.props[0] = 1;\n        this.props[1] = 0;\n        this.props[2] = 0;\n        this.props[3] = 0;\n        this.props[4] = 0;\n        this.props[5] = 1;\n        this.props[6] = 0;\n        this.props[7] = 0;\n        this.props[8] = 0;\n        this.props[9] = 0;\n        this.props[10] = 1;\n        this.props[11] = 0;\n        this.props[12] = 0;\n        this.props[13] = 0;\n        this.props[14] = 0;\n        this.props[15] = 1;\n        return this;\n    }\n\n    function rotate(angle) {\n        if(angle === 0){\n            return this;\n        }\n        var mCos = _cos(angle);\n        var mSin = _sin(angle);\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\n    }\n\n    function rotateX(angle){\n        if(angle === 0){\n            return this;\n        }\n        var mCos = _cos(angle);\n        var mSin = _sin(angle);\n        return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin,  mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateY(angle){\n        if(angle === 0){\n            return this;\n        }\n        var mCos = _cos(angle);\n        var mSin = _sin(angle);\n        return this._t(mCos,  0,  mSin, 0, 0, 1, 0, 0, -mSin,  0,  mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateZ(angle){\n        if(angle === 0){\n            return this;\n        }\n        var mCos = _cos(angle);\n        var mSin = _sin(angle);\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\n    }\n\n    function shear(sx,sy){\n        return this._t(1, sy, sx, 1, 0, 0);\n    }\n\n    function skew(ax, ay){\n        return this.shear(_tan(ax), _tan(ay));\n    }\n\n    function skewFromAxis(ax, angle){\n        var mCos = _cos(angle);\n        var mSin = _sin(angle);\n        return this._t(mCos, mSin,  0, 0, -mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\n            ._t(1, 0,  0, 0, _tan(ax),  1, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\n            ._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\n        //return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n    }\n\n    function scale(sx, sy, sz) {\n        if(!sz && sz !== 0) {\n            sz = 1;\n        }\n        if(sx === 1 && sy === 1 && sz === 1){\n            return this;\n        }\n        return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n    }\n\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n        this.props[0] = a;\n        this.props[1] = b;\n        this.props[2] = c;\n        this.props[3] = d;\n        this.props[4] = e;\n        this.props[5] = f;\n        this.props[6] = g;\n        this.props[7] = h;\n        this.props[8] = i;\n        this.props[9] = j;\n        this.props[10] = k;\n        this.props[11] = l;\n        this.props[12] = m;\n        this.props[13] = n;\n        this.props[14] = o;\n        this.props[15] = p;\n        return this;\n    }\n\n    function translate(tx, ty, tz) {\n        tz = tz || 0;\n        if(tx !== 0 || ty !== 0 || tz !== 0){\n            return this._t(1,0,0,0,0,1,0,0,0,0,1,0,tx,ty,tz,1);\n        }\n        return this;\n    }\n\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n\n        var _p = this.props;\n\n        if(a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0){\n            //NOTE: commenting this condition because TurboFan deoptimizes code when present\n            //if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n                _p[12] = _p[12] * a2 + _p[15] * m2;\n                _p[13] = _p[13] * f2 + _p[15] * n2;\n                _p[14] = _p[14] * k2 + _p[15] * o2;\n                _p[15] = _p[15] * p2;\n            //}\n            this._identityCalculated = false;\n            return this;\n        }\n\n        var a1 = _p[0];\n        var b1 = _p[1];\n        var c1 = _p[2];\n        var d1 = _p[3];\n        var e1 = _p[4];\n        var f1 = _p[5];\n        var g1 = _p[6];\n        var h1 = _p[7];\n        var i1 = _p[8];\n        var j1 = _p[9];\n        var k1 = _p[10];\n        var l1 = _p[11];\n        var m1 = _p[12];\n        var n1 = _p[13];\n        var o1 = _p[14];\n        var p1 = _p[15];\n\n        /* matrix order (canvas compatible):\n         * ace\n         * bdf\n         * 001\n         */\n        _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n        _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2 ;\n        _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2 ;\n        _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2 ;\n\n        _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2 ;\n        _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2 ;\n        _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2 ;\n        _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2 ;\n\n        _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2 ;\n        _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2 ;\n        _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2 ;\n        _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2 ;\n\n        _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2 ;\n        _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2 ;\n        _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2 ;\n        _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2 ;\n\n        this._identityCalculated = false;\n        return this;\n    }\n\n    function isIdentity() {\n        if(!this._identityCalculated){\n            this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n            this._identityCalculated = true;\n        }\n        return this._identity;\n    }\n\n    function equals(matr){\n        var i = 0;\n        while (i < 16) {\n            if(matr.props[i] !== this.props[i]) {\n                return false;\n            }\n            i+=1;\n        }\n        return true;\n    }\n\n    function clone(matr){\n        var i;\n        for(i=0;i<16;i+=1){\n            matr.props[i] = this.props[i];\n        }\n    }\n\n    function cloneFromProps(props){\n        var i;\n        for(i=0;i<16;i+=1){\n            this.props[i] = props[i];\n        }\n    }\n\n    function applyToPoint(x, y, z) {\n\n        return {\n            x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n            y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n            z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n        };\n        /*return {\n         x: x * me.a + y * me.c + me.e,\n         y: x * me.b + y * me.d + me.f\n         };*/\n    }\n    function applyToX(x, y, z) {\n        return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n    }\n    function applyToY(x, y, z) {\n        return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n    }\n    function applyToZ(x, y, z) {\n        return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n    }\n\n    function inversePoint(pt) {\n        var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n        var a = this.props[5]/determinant;\n        var b = - this.props[1]/determinant;\n        var c = - this.props[4]/determinant;\n        var d = this.props[0]/determinant;\n        var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12])/determinant;\n        var f = - (this.props[0] * this.props[13] - this.props[1] * this.props[12])/determinant;\n        return [pt[0] * a + pt[1] * c + e, pt[0] * b + pt[1] * d + f, 0];\n    }\n\n    function inversePoints(pts){\n        var i, len = pts.length, retPts = [];\n        for(i=0;i<len;i+=1){\n            retPts[i] = inversePoint(pts[i]);\n        }\n        return retPts;\n    }\n\n    function applyToTriplePoints(pt1, pt2, pt3) {\n        var arr = createTypedArray('float32', 6);\n        if(this.isIdentity()) {\n            arr[0] = pt1[0];\n            arr[1] = pt1[1];\n            arr[2] = pt2[0];\n            arr[3] = pt2[1];\n            arr[4] = pt3[0];\n            arr[5] = pt3[1];\n        } else {\n            var p0 = this.props[0], p1 = this.props[1], p4 = this.props[4], p5 = this.props[5], p12 = this.props[12], p13 = this.props[13];\n            arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n            arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n            arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n            arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n            arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n            arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n        }\n        return arr;\n    }\n\n    function applyToPointArray(x,y,z){\n        var arr;\n        if(this.isIdentity()) {\n            arr = [x,y,z];\n        } else {\n            arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n        }\n        return arr;\n    }\n\n    function applyToPointStringified(x, y) {\n        if(this.isIdentity()) {\n            return x + ',' + y;\n        }\n        var _p = this.props;\n        return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100+','+ Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\n    }\n\n    function toCSS() {\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n        /*if(this.isIdentity()) {\n            return '';\n        }*/\n        var i = 0;\n        var props = this.props;\n        var cssValue = 'matrix3d(';\n        var v = 10000;\n        while(i<16){\n            cssValue += _rnd(props[i]*v)/v;\n            cssValue += i === 15 ? ')':',';\n            i += 1;\n        }\n        return cssValue;\n    }\n\n    function roundMatrixProperty(val) {\n        var v = 10000;\n        if((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\n            return _rnd(val * v) / v;\n        }\n        return val;\n    }\n\n    function to2dCSS() {\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n        /*if(this.isIdentity()) {\n            return '';\n        }*/\n        var props = this.props;\n        var _a = roundMatrixProperty(props[0]);\n        var _b = roundMatrixProperty(props[1]);\n        var _c = roundMatrixProperty(props[4]);\n        var _d = roundMatrixProperty(props[5]);\n        var _e = roundMatrixProperty(props[12]);\n        var _f = roundMatrixProperty(props[13]);\n        return \"matrix(\" + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + \")\";\n    }\n\n    return function(){\n        this.reset = reset;\n        this.rotate = rotate;\n        this.rotateX = rotateX;\n        this.rotateY = rotateY;\n        this.rotateZ = rotateZ;\n        this.skew = skew;\n        this.skewFromAxis = skewFromAxis;\n        this.shear = shear;\n        this.scale = scale;\n        this.setTransform = setTransform;\n        this.translate = translate;\n        this.transform = transform;\n        this.applyToPoint = applyToPoint;\n        this.applyToX = applyToX;\n        this.applyToY = applyToY;\n        this.applyToZ = applyToZ;\n        this.applyToPointArray = applyToPointArray;\n        this.applyToTriplePoints = applyToTriplePoints;\n        this.applyToPointStringified = applyToPointStringified;\n        this.toCSS = toCSS;\n        this.to2dCSS = to2dCSS;\n        this.clone = clone;\n        this.cloneFromProps = cloneFromProps;\n        this.equals = equals;\n        this.inversePoints = inversePoints;\n        this.inversePoint = inversePoint;\n        this._t = this.transform;\n        this.isIdentity = isIdentity;\n        this._identity = true;\n        this._identityCalculated = false;\n\n        this.props = createTypedArray('float32', 16);\n        this.reset();\n    };\n}());\n\nexport default Matrix;\n","import Matrix from '../../utils/lib/transformation-matrix';\n\n/**\n * a\n * @private\n */\nexport default class ShapeTransformManager {\n  /**\n   * a\n   */\n  constructor() {\n    this.sequences = {};\n    this.sequenceList = [];\n    this.transform_key_count = 0;\n  }\n\n  /**\n   * a\n   * @param {*} transforms a\n   * @return {*}\n   */\n  addTransformSequence(transforms) {\n    const len = transforms.length;\n    let key = '_';\n    for (let i = 0; i < len; i += 1) {\n      key += transforms[i].transform.key + '_';\n    }\n    let sequence = this.sequences[key];\n    if (!sequence) {\n      sequence = {\n        transforms: [].concat(transforms),\n        finalTransform: new Matrix(),\n        _mdf: false,\n      };\n      this.sequences[key] = sequence;\n      this.sequenceList.push(sequence);\n    }\n    return sequence;\n  }\n\n  /**\n   * a\n   * @param {*} sequence a\n   * @param {*} isFirstFrame a\n   */\n  processSequence(sequence, isFirstFrame) {\n    let i = 0;\n    let _mdf = isFirstFrame;\n    const len = sequence.transforms.length;\n    while (i < len && !isFirstFrame) {\n      if (sequence.transforms[i].transform.mProps._mdf) {\n        _mdf = true;\n        break;\n      }\n      i += 1;\n    }\n    if (_mdf) {\n      let props;\n      sequence.finalTransform.reset();\n      for (i = len - 1; i >= 0; i -= 1) {\n        props = sequence.transforms[i].transform.mProps.v.props;\n        sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n      }\n    }\n    sequence._mdf = _mdf;\n  }\n\n  /**\n   * a\n   * @param {*} isFirstFrame a\n   */\n  processSequences(isFirstFrame) {\n    const len = this.sequenceList.length;\n    for (let i = 0; i < len; i += 1) {\n      this.processSequence(this.sequenceList[i], isFirstFrame);\n    }\n  }\n\n  /**\n   * a\n   * @return {*}\n   */\n  getNewKey() {\n    return '_' + this.transform_key_count++;\n  }\n}\n","\n/**\n * ProcessedElement class\n * @private\n */\nexport default class ProcessedElement {\n  /**\n   * constructor processed elem\n   * @param {*} elem\n   * @param {*} position\n   */\n  constructor(elem, position) {\n    this.elem = elem;\n    this.pos = position;\n  }\n}\n","import ShapePropertyFactory from '../../utils/shapes/ShapeProperty';\n\n/**\n * ShapeData class\n * @private\n */\nexport default class ShapeData {\n  /**\n   * constructor ShapeData\n   * @param {*} element a\n   * @param {*} data a\n   * @param {*} styles a\n   * @param {*} transformsManager a\n   */\n  constructor(element, data, styles, transformsManager) {\n    this.styledShapes = [];\n    this.tr = [0, 0, 0, 0, 0, 0];\n    let ty = 4;\n    if (data.ty == 'rc') {\n      ty = 5;\n    } else if (data.ty == 'el') {\n      ty = 6;\n    } else if (data.ty == 'sr') {\n      ty = 7;\n    }\n    this.sh = ShapePropertyFactory.getShapeProp(element, data, ty);\n    const len = styles.length;\n    for (let i = 0; i < len; i += 1) {\n      if (!styles[i].closed) {\n        const styledShape = {\n          transforms: transformsManager.addTransformSequence(styles[i].transforms),\n          trNodes: [],\n        };\n        this.styledShapes.push(styledShape);\n        styles[i].elements.push(styledShape);\n      }\n    }\n  }\n\n  /**\n   * set as animated\n   */\n  setAsAnimated() {\n    this._isAnimated = true;\n  }\n}\n","/**\n * @namespace DisplayRegister\n */\nconst display = {};\n\n/**\n * enum display element type for lottie layer\n * @enum {string}\n * @alias DisplayRegister.Type\n * @memberof DisplayRegister\n */\nconst Type = {\n  Null: 'Null',\n  Path: 'Path',\n  Shape: 'Shape',\n  Solid: 'Solid',\n  Sprite: 'Sprite',\n  Component: 'Component',\n  Container: 'Container',\n};\n\n/**\n * register display by type\n * @param {DisplayRegister.Type} type display type\n * @param {DisplayClass} displayClass display class\n * @alias registerDisplayByType\n * @memberof DisplayRegister\n */\nfunction registerDisplayByType(type, displayClass) {\n  display[type] = displayClass;\n}\n\n/**\n * get display by type\n * @param {DisplayRegister.Type} type display type\n * @return {DisplayClass} DisplayClass display class\n * @alias getDisplayByType\n * @memberof DisplayRegister\n */\nexport function getDisplayByType(type) {\n  return display[type];\n}\n\nexport default { Type, registerDisplayByType };\n","import DisplayRegister, { getDisplayByType } from '../../register/DisplayRegister';\n\n/**\n * a\n * @private\n */\nexport default class PathPaint {\n  /**\n   * constructor style element\n   * @param {*} elem item data\n   * @param {*} data item data\n   * @param {*} transforms transforms array\n   */\n  constructor(elem, data, transforms) {\n    this.elem = elem;\n    this.data = data;\n    this.type = data.ty;\n    this.preTransforms = transforms;\n    this.transforms = [];\n    this.elements = [];\n    this.closed = data.hd === true;\n\n    this.displayType = DisplayRegister.Type.Path;\n    const DisplayClass = getDisplayByType(this.displayType);\n    this.display = new DisplayClass(this, data);\n    if (this.elem.innerDisplay) {\n      this.elem.innerDisplay.addChild(this.display);\n    } else {\n      this.elem.display.addChild(this.display);\n    }\n  }\n\n  /**\n   * a\n   */\n  updateGrahpics() {\n    this.display.updateLottieGrahpics(this);\n  }\n}\n","import DynamicPropertyContainer from './helpers/dynamicProperties';\nimport Matrix from './lib/transformation-matrix';\nimport PropertyFactory from './PropertyFactory';\nimport { degToRads, defaultVector, initialDefaultFrame } from '../constant/index';\n\n\n/**\n * transform property origin from tr\n * @private\n */\nexport class TransformProperty extends DynamicPropertyContainer {\n  /**\n   * constructor about transform property\n   * @param {*} elem element node\n   * @param {*} data multidimensional value property data\n   * @param {*} container value property container\n   */\n  constructor(elem, data, container) {\n    super();\n    this.elem = elem;\n    this.frameId = -1;\n    this.propType = 'transform';\n    this.data = data;\n    this.v = new Matrix();\n    // Precalculated matrix with non animated properties\n    this.pre = new Matrix();\n    this.appliedTransformations = 0;\n    this.initDynamicPropertyContainer(container || elem);\n    if (data.p && data.p.s) {\n      this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\n      this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\n      if (data.p.z) {\n        this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\n      }\n    } else {\n      this.p = PropertyFactory.getProp(elem, data.p || { k: [0, 0, 0] }, 1, 0, this);\n    }\n    if (data.rx) {\n      this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\n      this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\n      this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\n      if (data.or.k[0].ti) {\n        let i; let len = data.or.k.length;\n        for (i=0; i<len; i+=1) {\n          data.or.k[i].to = data.or.k[i].ti = null;\n        }\n      }\n      this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\n      // sh Indicates it needs to be capped between -180 and 180\n      this.or.sh = true;\n    } else {\n      this.r = PropertyFactory.getProp(elem, data.r || { k: 0 }, 0, degToRads, this);\n    }\n    if (data.sk) {\n      this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\n      this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\n    }\n    this.a = PropertyFactory.getProp(elem, data.a || { k: [0, 0, 0] }, 1, 0, this);\n    this.s = PropertyFactory.getProp(elem, data.s || { k: [100, 100, 100] }, 1, 0.01, this);\n    // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\n    if (data.o) {\n      this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\n    } else {\n      this.o = { _mdf: false, v: 1 };\n    }\n    this._isDirty = true;\n    if (!this.dynamicProperties.length) {\n      this.getValue(initialDefaultFrame, true);\n    }\n  }\n\n  /**\n   * add Dynamic Property\n   * @param {*} prop Dynamic Property\n   */\n  // addDynamicProperty(prop) {\n  //   super.addDynamicProperty(prop);\n  //   this.elem.addDynamicProperty(prop);\n  //   this._isDirty = true;\n  // }\n\n  /**\n   * get transform\n   * @param {*} frameNum a\n   * @param {Boolean} forceRender force render\n   */\n  getValue(frameNum, forceRender) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n    if (this._isDirty) {\n      this.precalculateMatrix();\n      this._isDirty = false;\n    }\n\n    this.iterateDynamicProperties();\n\n    if (this._mdf || forceRender) {\n      this.v.cloneFromProps(this.pre.props);\n      if (this.appliedTransformations < 1) {\n        this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      }\n      if (this.appliedTransformations < 2) {\n        this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      }\n      if (this.sk && this.appliedTransformations < 3) {\n        this.v.skewFromAxis(-this.sk.v, this.sa.v);\n      }\n      if (this.r && this.appliedTransformations < 4) {\n        this.v.rotate(-this.r.v);\n      } else if (!this.r && this.appliedTransformations < 4) {\n        this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n      }\n      if (this.autoOriented) {\n        let v1; let v2;\n        // FIXME: should use frame interval\n        const frameRate = this.elem.globalData.frameRate;\n        if (this.p && this.p.keyframes && this.p.getValueAtTime) {\n          if (this.p._caching.lastFrame+this.p.offsetTime <= this.p.keyframes[0].t) {\n            v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\n            v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\n          } else if (this.p._caching.lastFrame+this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\n            v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\n            v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\n          } else {\n            v1 = this.p.pv;\n            v2 = this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\n          }\n        } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\n          v1 = [];\n          v2 = [];\n          let px = this.px; let py = this.py;\n          if (px._caching.lastFrame+px.offsetTime <= px.keyframes[0].t) {\n            v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\n            v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\n            v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate, 0);\n            v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate, 0);\n          } else if (px._caching.lastFrame+px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\n            v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate), 0);\n            v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate), 0);\n            v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\n            v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\n          } else {\n            v1 = [px.pv, py.pv];\n            v2[0] = px.getValueAtTime((px._caching.lastFrame+px.offsetTime - 0.01) / frameRate, px.offsetTime);\n            v2[1] = py.getValueAtTime((py._caching.lastFrame+py.offsetTime - 0.01) / frameRate, py.offsetTime);\n          }\n        } else {\n          v1 = v2 = defaultVector;\n        }\n        this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n      }\n      if (this.data.p && this.data.p.s) {\n        if (this.data.p.z) {\n          this.v.translate(this.px.v, this.py.v, -this.pz.v);\n        } else {\n          this.v.translate(this.px.v, this.py.v, 0);\n        }\n      } else {\n        this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n      }\n    }\n    this.frameId = frameNum;\n  }\n\n  /**\n   * pre calculate matrix for performance\n   */\n  precalculateMatrix() {\n    if (!this.a.k) {\n      this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      this.appliedTransformations = 1;\n    } else {\n      return;\n    }\n    if (!this.s.effectsSequence.length) {\n      this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      this.appliedTransformations = 2;\n    } else {\n      return;\n    }\n    if (this.sk) {\n      if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\n        this.pre.skewFromAxis(-this.sk.v, this.sa.v);\n        this.appliedTransformations = 3;\n      } else {\n        return;\n      }\n    }\n    if (this.r) {\n      if (!this.r.effectsSequence.length) {\n        this.pre.rotate(-this.r.v);\n        this.appliedTransformations = 4;\n      } else {\n        return;\n      }\n    } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\n      this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n      this.appliedTransformations = 4;\n    }\n  }\n\n  /**\n   * apply a matrix\n   * @param {*} mat matrix\n   */\n  applyToMatrix(mat) {\n    let _mdf = this._mdf;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || _mdf;\n    if (this.a) {\n      mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n    }\n    if (this.s) {\n      mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n    }\n    if (this.sk) {\n      mat.skewFromAxis(-this.sk.v, this.sa.v);\n    }\n    if (this.r) {\n      mat.rotate(-this.r.v);\n    } else {\n      mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n    }\n    if (this.data.p.s) {\n      if (this.data.p.z) {\n        mat.translate(this.px.v, this.py.v, -this.pz.v);\n      } else {\n        mat.translate(this.px.v, this.py.v, 0);\n      }\n    } else {\n      mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n    }\n  }\n}\n\n/**\n * get a transform property\n * @private\n * @param {*} elem element node\n * @param {*} data multidimensional value property data\n * @param {*} container value property container\n * @return {TransformProperty}\n */\nexport function getTransformProperty(elem, data, container) {\n  return new TransformProperty(elem, data, container);\n}\n\n// export default { getTransformProperty };\n","import DynamicPropertyContainer from '../helpers/dynamicProperties';\nimport ShapeCollectionPool from '../pooling/ShapeCollectionPool';\nimport { initialDefaultFrame } from '../../constant/index';\n\n/**\n * a\n * @private\n */\nexport default class ShapeModifier extends DynamicPropertyContainer {\n  /**\n   * a\n   */\n  initModifierProperties() {}\n\n  /**\n   * a\n   */\n  addShapeToModifier() {}\n\n  /**\n   * a\n   * @param {*} data a\n   */\n  addShape(data) {\n    if (!this.closed) {\n      // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\n      data.sh.container.addDynamicProperty(data.sh);\n\n      const shapeData = { shape: data.sh, data: data, localShapeCollection: ShapeCollectionPool.newShapeCollection() };\n      this.shapes.push(shapeData);\n      this.addShapeToModifier(shapeData);\n      if (this._isAnimated) {\n        data.setAsAnimated();\n      }\n    }\n  }\n\n  /**\n   * a\n   * @param {*} elem a\n   * @param {*} data a\n   */\n  init(elem, data) {\n    this.shapes = [];\n    this.elem = elem;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, data);\n    this.frameId = initialDefaultFrame;\n    this.closed = false;\n    this.k = false;\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  }\n\n  /**\n   * process keys\n   * @param {number} frameNum frameNum\n   */\n  processKeys(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n    this.frameId = frameNum;\n    this.iterateDynamicProperties(frameNum);\n  }\n}\n\n","import ShapeModifier from './ShapeModifier';\n// import { registerModifier } from './ShapeModifiers';\nimport PropertyFactory from '../PropertyFactory';\nimport SegmentsLengthPool from '../pooling/SegmentsLengthPool';\nimport ShapePool from '../pooling/ShapePool';\nimport bez from '../bez';\n\n\n/**\n * TrimModifier class\n * @private\n */\nexport default class TrimModifier extends ShapeModifier {\n  /**\n   * init modifier properties\n   * @param {*} elem element node\n   * @param {*} data trim value property data\n   */\n  initModifierProperties(elem, data) {\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\n    this.sValue = 0;\n    this.eValue = 0;\n    this.getValue = this.processKeys;\n    this.m = data.m;\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\n  }\n\n  /**\n   * add shape to modifier\n   * @param {*} shapeData shape data\n   */\n  addShapeToModifier(shapeData) {\n    shapeData.pathsData = [];\n  }\n\n  /**\n   * calculate shape edges\n   * @param {*} s trim start\n   * @param {*} e trim end\n   * @param {*} shapeLength shape length\n   * @param {*} addedLength added length\n   * @param {*} totalModifierLength total modifier length\n   * @return {*}\n   */\n  calculateShapeEdges(s, e, shapeLength, addedLength, totalModifierLength) {\n    let segments = [];\n    if (e <= 1) {\n      segments.push({\n        s: s,\n        e: e,\n      });\n    } else if (s >= 1) {\n      segments.push({\n        s: s - 1,\n        e: e - 1,\n      });\n    } else {\n      segments.push({\n        s: s,\n        e: 1,\n      });\n      segments.push({\n        s: 0,\n        e: e - 1,\n      });\n    }\n    let shapeSegments = [];\n    let i; let len = segments.length; let segmentOb;\n    for (i = 0; i < len; i += 1) {\n      segmentOb = segments[i];\n      if (segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength) {\n        // do nothing\n      } else {\n        let shapeS; let shapeE;\n        if (segmentOb.s * totalModifierLength <= addedLength) {\n          shapeS = 0;\n        } else {\n          shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n        }\n        if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\n          shapeE = 1;\n        } else {\n          shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\n        }\n        shapeSegments.push([shapeS, shapeE]);\n      }\n    }\n    if (!shapeSegments.length) {\n      shapeSegments.push([0, 0]);\n    }\n    return shapeSegments;\n  }\n\n  /**\n   * release paths data\n   * @param {*} pathsData paths data\n   * @return {*}\n   */\n  releasePathsData(pathsData) {\n    const len = pathsData.length;\n    for (let i = 0; i < len; i += 1) {\n      SegmentsLengthPool.release(pathsData[i]);\n    }\n    pathsData.length = 0;\n    return pathsData;\n  }\n\n  /**\n   * a\n   * @param {*} _isFirstFrame a\n   */\n  processShapes(_isFirstFrame) {\n    let s; let e;\n    if (this._mdf || _isFirstFrame) {\n      let o = (this.o.v % 360) / 360;\n      if (o < 0) {\n        o += 1;\n      }\n      s = (this.s.v > 1 ? 1 : this.s.v < 0 ? 0 : this.s.v) + o;\n      e = (this.e.v > 1 ? 1 : this.e.v < 0 ? 0 : this.e.v) + o;\n      if (s === e) {\n        // do nothing\n      }\n      if (s > e) {\n        let _s = s;\n        s = e;\n        e = _s;\n      }\n      s = Math.round(s * 10000) * 0.0001;\n      e = Math.round(e * 10000) * 0.0001;\n      this.sValue = s;\n      this.eValue = e;\n    } else {\n      s = this.sValue;\n      e = this.eValue;\n    }\n    let shapePaths;\n    let i; let len = this.shapes.length; let j; let jLen;\n    let pathsData; let pathData; let totalShapeLength; let totalModifierLength = 0;\n\n    if (e === s) {\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].localShapeCollection.releaseShapes();\n        this.shapes[i].shape._mdf = true;\n        this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\n        if (this._mdf) {\n          this.shapes[i].pathsData.length = 0;\n        }\n      }\n    } else if (!((e === 1 && s === 0) || (e===0 && s === 1))) {\n      let segments = []; let shapeData; let localShapeCollection;\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\n        if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\n          shapeData.shape.paths = shapeData.localShapeCollection;\n        } else {\n          shapePaths = shapeData.shape.paths;\n          jLen = shapePaths._length;\n          totalShapeLength = 0;\n          if (!shapeData.shape._mdf && shapeData.pathsData.length) {\n            totalShapeLength = shapeData.totalShapeLength;\n          } else {\n            pathsData = this.releasePathsData(shapeData.pathsData);\n            for (j = 0; j < jLen; j += 1) {\n              pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\n              pathsData.push(pathData);\n              totalShapeLength += pathData.totalLength;\n            }\n            shapeData.totalShapeLength = totalShapeLength;\n            shapeData.pathsData = pathsData;\n          }\n\n          totalModifierLength += totalShapeLength;\n          shapeData.shape._mdf = true;\n        }\n      }\n      let shapeS = s; let shapeE = e; let addedLength = 0; let edges;\n      for (i = len - 1; i >= 0; i -= 1) {\n        shapeData = this.shapes[i];\n        if (shapeData.shape._mdf) {\n          localShapeCollection = shapeData.localShapeCollection;\n          localShapeCollection.releaseShapes();\n          // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\n          if (this.m === 2 && len > 1) {\n            edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n            addedLength += shapeData.totalShapeLength;\n          } else {\n            edges = [[shapeS, shapeE]];\n          }\n          jLen = edges.length;\n          for (j = 0; j < jLen; j += 1) {\n            shapeS = edges[j][0];\n            shapeE = edges[j][1];\n            segments.length = 0;\n            if (shapeE <= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength * shapeE,\n              });\n            } else if (shapeS >= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * (shapeS - 1),\n                e: shapeData.totalShapeLength * (shapeE - 1),\n              });\n            } else {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength,\n              });\n              segments.push({\n                s: 0,\n                e: shapeData.totalShapeLength * (shapeE - 1),\n              });\n            }\n            let newShapesData = this.addShapes(shapeData, segments[0]);\n            if (segments[0].s !== segments[0].e) {\n              if (segments.length > 1) {\n                let lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\n                if (lastShapeInCollection.c) {\n                  let lastShape = newShapesData.pop();\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1], lastShape);\n                } else {\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1]);\n                }\n              }\n              this.addPaths(newShapesData, localShapeCollection);\n            }\n          }\n          shapeData.shape.paths = localShapeCollection;\n        }\n      }\n    } else if (this._mdf) {\n      for (i = 0; i < len; i += 1) {\n        // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n        // Don't remove this even if it's losing cached info.\n        this.shapes[i].pathsData.length = 0;\n        this.shapes[i].shape._mdf = true;\n      }\n    }\n  }\n\n  /**\n   * add paths\n   * @param {*} newPaths new paths\n   * @param {*} localShapeCollection local shape collection\n   */\n  addPaths(newPaths, localShapeCollection) {\n    const len = newPaths.length;\n    for (let i = 0; i < len; i += 1) {\n      localShapeCollection.addShape(newPaths[i]);\n    }\n  }\n\n  /**\n   * add segment\n   * @param {*} pt1 point1\n   * @param {*} pt2 point2\n   * @param {*} pt3 point3\n   * @param {*} pt4 point4\n   * @param {*} shapePath target shape path\n   * @param {*} pos data index\n   * @param {*} newShape is new shape ?\n   */\n  addSegment(pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\n    if (newShape) {\n      shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\n    }\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\n  }\n\n  /**\n   * add segment from points array\n   * @param {*} points points\n   * @param {*} shapePath target shape path\n   * @param {*} pos data index\n   * @param {*} newShape is new shape ?\n   */\n  addSegmentFromArray(points, shapePath, pos, newShape) {\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\n    if (newShape) {\n      shapePath.setXYAt(points[0], points[4], 'v', pos);\n    }\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\n  }\n\n  /**\n   * add shapes to this modifier\n   * @param {*} shapeData shape data\n   * @param {*} shapeSegment shape segment\n   * @param {*} shapePath shape path\n   * @return {*}\n   */\n  addShapes(shapeData, shapeSegment, shapePath) {\n    let pathsData = shapeData.pathsData;\n    let shapePaths = shapeData.shape.paths.shapes;\n    let i; let len = shapeData.shape.paths._length; let j; let jLen;\n    let addedLength = 0;\n    let currentLengthData; let segmentCount;\n    let lengths;\n    let segment;\n    let shapes = [];\n    let initPos;\n    let newShape = true;\n    if (!shapePath) {\n      shapePath = ShapePool.newElement();\n      segmentCount = 0;\n      initPos = 0;\n    } else {\n      segmentCount = shapePath._length;\n      initPos = shapePath._length;\n    }\n    shapes.push(shapePath);\n    for (i = 0; i < len; i += 1) {\n      lengths = pathsData[i].lengths;\n      shapePath.c = shapePaths[i].c;\n      jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n      for (j = 1; j < jLen; j +=1) {\n        currentLengthData = lengths[j-1];\n        if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\n          addedLength += currentLengthData.addedLength;\n          shapePath.c = false;\n        } else if (addedLength > shapeSegment.e) {\n          shapePath.c = false;\n          break;\n        } else {\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength)/currentLengthData.addedLength, (shapeSegment.e - addedLength)/currentLengthData.addedLength, lengths[j-1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\n            // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n            newShape = false;\n            shapePath.c = false;\n          }\n          addedLength += currentLengthData.addedLength;\n          segmentCount += 1;\n        }\n      }\n      if (shapePaths[i].c && lengths.length) {\n        currentLengthData = lengths[j - 1];\n        if (addedLength <= shapeSegment.e) {\n          let segmentLength = lengths[j - 1].addedLength;\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\n            // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n            newShape = false;\n            shapePath.c = false;\n          }\n        } else {\n          shapePath.c = false;\n        }\n        addedLength += currentLengthData.addedLength;\n        segmentCount += 1;\n      }\n      if (shapePath._length) {\n        shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\n        shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\n      }\n      if (addedLength > shapeSegment.e) {\n        break;\n      }\n      if (i < len - 1) {\n        shapePath = ShapePool.newElement();\n        newShape = true;\n        shapes.push(shapePath);\n        segmentCount = 0;\n      }\n    }\n    return shapes;\n  }\n}\n","import ShapeModifier from './ShapeModifier';\nimport PropertyFactory from '../PropertyFactory';\nimport ShapePool from '../pooling/ShapePool';\n\nconst roundCorner = 0.5519;\n\n/**\n * a\n * @private\n */\nexport default class RoundCornersModifier extends ShapeModifier {\n  /**\n   * init modifier properties\n   * @param {*} elem element node\n   * @param {*} data round corners value property data\n   */\n  initModifierProperties(elem, data) {\n    this.getValue = this.processKeys;\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this._isAnimated = !!this.rd.effectsSequence.length;\n  }\n\n  /**\n   * process path\n   * @param {*} path path\n   * @param {*} round round\n   * @return {*}\n   */\n  processPath(path, round) {\n    const clonedPath = ShapePool.newElement();\n    clonedPath.c = path.c;\n    let i; let len = path._length;\n    let currentV;\n    let currentI;\n    let currentO;\n    let closerV;\n    // let newV;\n    // let newO;\n    // let newI;\n    let distance;\n    let newPosPerc;\n    let index = 0;\n    let vX; let vY; let oX; let oY; let iX; let iY;\n    for (i=0; i<len; i+=1) {\n      currentV = path.v[i];\n      currentO = path.o[i];\n      currentI = path.i[i];\n      if (currentV[0]===currentO[0] && currentV[1]===currentO[1] && currentV[0]===currentI[0] && currentV[1]===currentI[1]) {\n        if ((i===0 || i === len - 1) && !path.c) {\n          clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\n          /* clonedPath.v[index] = currentV;\n                clonedPath.o[index] = currentO;\n                clonedPath.i[index] = currentI;*/\n          index += 1;\n        } else {\n          if (i===0) {\n            closerV = path.v[len-1];\n          } else {\n            closerV = path.v[i-1];\n          }\n          distance = Math.sqrt(Math.pow(currentV[0]-closerV[0], 2)+Math.pow(currentV[1]-closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance/2, round)/distance : 0;\n          vX = iX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\n          vY = iY = currentV[1]-(currentV[1]-closerV[1])*newPosPerc;\n          oX = vX-(vX-currentV[0])*roundCorner;\n          oY = vY-(vY-currentV[1])*roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n\n          if (i === len - 1) {\n            closerV = path.v[0];\n          } else {\n            closerV = path.v[i+1];\n          }\n          distance = Math.sqrt(Math.pow(currentV[0]-closerV[0], 2)+Math.pow(currentV[1]-closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance/2, round)/distance : 0;\n          vX = oX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\n          vY = oY = currentV[1]+(closerV[1]-currentV[1])*newPosPerc;\n          iX = vX-(vX-currentV[0])*roundCorner;\n          iY = vY-(vY-currentV[1])*roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n        }\n      } else {\n        clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\n        index += 1;\n      }\n    }\n    return clonedPath;\n  }\n\n  /**\n   * process shapes\n   * @param {*} _isFirstFrame is first frame\n   */\n  processShapes(_isFirstFrame) {\n    let shapePaths;\n    let i; let len = this.shapes.length;\n    let j; let jLen;\n    let rd = this.rd.v;\n\n    if (rd !== 0) {\n      let shapeData;\n      // let newPaths;\n      let localShapeCollection;\n      for (i=0; i<len; i+=1) {\n        shapeData = this.shapes[i];\n        // newPaths = shapeData.shape.paths;\n        localShapeCollection = shapeData.localShapeCollection;\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n          for (j=0; j<jLen; j+=1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\n          }\n        }\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  }\n}\n","import ShapeModifier from './ShapeModifier';\nimport PropertyFactory from '../PropertyFactory';\nimport { getTransformProperty } from '../TransformProperty';\nimport Matrix from '../lib/transformation-matrix';\n\n/**\n * a\n * @private\n */\nexport default class RepeaterModifier extends ShapeModifier {\n  /**\n   * a\n   * @param {*} elem a\n   * @param {*} data a\n   */\n  initModifierProperties(elem, data) {\n    this.getValue = this.processKeys;\n    this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\n    this.tr = getTransformProperty(elem, data.tr, this);\n    this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\n    this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\n    this.data = data;\n    if (!this.dynamicProperties.length) {\n      this.getValue(true);\n    }\n    this._isAnimated = !!this.dynamicProperties.length;\n    this.pMatrix = new Matrix();\n    this.rMatrix = new Matrix();\n    this.sMatrix = new Matrix();\n    this.tMatrix = new Matrix();\n    this.matrix = new Matrix();\n  }\n\n  /**\n   * a\n   * @param {*} pMatrix a\n   * @param {*} rMatrix a\n   * @param {*} sMatrix a\n   * @param {*} transform a\n   * @param {*} perc a\n   * @param {*} inv a\n   */\n  applyTransforms(pMatrix, rMatrix, sMatrix, transform, perc, inv) {\n    let dir = inv ? -1 : 1;\n    let scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\n    let scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    rMatrix.rotate(-transform.r.v * dir * perc);\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    sMatrix.scale(inv ? 1/scaleX : scaleX, inv ? 1/scaleY : scaleY);\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n  }\n\n  /**\n   * a\n   * @param {*} elem a\n   * @param {*} arr a\n   * @param {*} pos a\n   * @param {*} elemsData a\n   */\n  init(elem, arr, pos, elemsData) {\n    this.elem = elem;\n    this.arr = arr;\n    this.pos = pos;\n    this.elemsData = elemsData;\n    this._currentCopies = 0;\n    this._elements = [];\n    this._groups = [];\n    this.frameId = -1;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, arr[pos]);\n    while (pos>0) {\n      pos -= 1;\n      // this._elements.unshift(arr.splice(pos,1)[0]);\n      this._elements.unshift(arr[pos]);\n    }\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  }\n\n  /**\n   * a\n   * @param {*} elements a\n   */\n  resetElements(elements) {\n    const len = elements.length;\n    for (let i = 0; i < len; i += 1) {\n      elements[i]._processed = false;\n      if (elements[i].ty === 'gr') {\n        this.resetElements(elements[i].it);\n      }\n    }\n  }\n\n  /**\n   * a\n   * @param {*} elements a\n   * @return {*}\n   */\n  cloneElements(elements) {\n    let newElements = JSON.parse(JSON.stringify(elements));\n    this.resetElements(newElements);\n    return newElements;\n  }\n\n  /**\n   * a\n   * @param {*} elements a\n   * @param {*} renderFlag a\n   */\n  changeGroupRender(elements, renderFlag) {\n    const len = elements.length;\n    for (let i = 0; i < len; i += 1) {\n      elements[i]._render = renderFlag;\n      if (elements[i].ty === 'gr') {\n        this.changeGroupRender(elements[i].it, renderFlag);\n      }\n    }\n  }\n\n  /**\n   * a\n   * @param {*} _isFirstFrame a\n   */\n  processShapes(_isFirstFrame) {\n    // let items, itemsTransform, i, dir, cont;\n    if (this._mdf || _isFirstFrame) {\n      let copies = Math.ceil(this.c.v);\n      if (this._groups.length < copies) {\n        while (this._groups.length < copies) {\n          let group = {\n            it: this.cloneElements(this._elements),\n            ty: 'gr',\n          };\n          group.it.push({ 'a': { 'a': 0, 'ix': 1, 'k': [0, 0] }, 'nm': 'Transform', 'o': { 'a': 0, 'ix': 7, 'k': 100 }, 'p': { 'a': 0, 'ix': 2, 'k': [0, 0] }, 'r': { 'a': 1, 'ix': 6, 'k': [{ s: 0, e: 0, t: 0 }, { s: 0, e: 0, t: 1 }] }, 's': { 'a': 0, 'ix': 3, 'k': [100, 100] }, 'sa': { 'a': 0, 'ix': 5, 'k': 0 }, 'sk': { 'a': 0, 'ix': 4, 'k': 0 }, 'ty': 'tr' });\n\n          this.arr.splice(0, 0, group);\n          this._groups.splice(0, 0, group);\n          this._currentCopies += 1;\n        }\n        this.elem.reloadShapes();\n      }\n      let cont = 0;\n      let i;\n      let renderFlag;\n      for (i = 0; i <= this._groups.length - 1; i += 1) {\n        renderFlag = cont < copies;\n        this._groups[i]._render = renderFlag;\n        this.changeGroupRender(this._groups[i].it, renderFlag);\n        cont += 1;\n      }\n\n      this._currentCopies = copies;\n      // //\n\n      let offset = this.o.v;\n      let offsetModulo = offset%1;\n      let roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\n      // let k;\n      // let tMat = this.tr.v.props;\n      let pProps = this.pMatrix.props;\n      let rProps = this.rMatrix.props;\n      let sProps = this.sMatrix.props;\n      this.pMatrix.reset();\n      this.rMatrix.reset();\n      this.sMatrix.reset();\n      this.tMatrix.reset();\n      this.matrix.reset();\n      let iteration = 0;\n\n      if (offset > 0) {\n        while (iteration<roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          iteration += 1;\n        }\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\n          iteration += offsetModulo;\n        }\n      } else if (offset < 0) {\n        while (iteration>roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\n          iteration -= 1;\n        }\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, - offsetModulo, true);\n          iteration -= offsetModulo;\n        }\n      }\n      i = this.data.m === 1 ? 0 : this._currentCopies - 1;\n      const dir = this.data.m === 1 ? 1 : -1;\n      cont = this._currentCopies;\n      while (cont) {\n        const items = this.elemsData[i].it;\n        const itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        const jLen = itemsTransform.length;\n        items[items.length - 1].transform.mProps._mdf = true;\n        items[items.length - 1].transform.op._mdf = true;\n        items[items.length - 1].transform.op.v = this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\n        if (iteration !== 0) {\n          if ((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)) {\n            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          }\n          this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\n          this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\n          this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\n\n          for (let j=0; j<jLen; j+=1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n          this.matrix.reset();\n        } else {\n          this.matrix.reset();\n          for (let j=0; j<jLen; j+=1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n        }\n        iteration += 1;\n        cont -= 1;\n        i += dir;\n      }\n    } else {\n      let cont = this._currentCopies;\n      let i = 0;\n      const dir = 1;\n      while (cont) {\n        const items = this.elemsData[i].it;\n        // const itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        items[items.length - 1].transform.mProps._mdf = false;\n        items[items.length - 1].transform.op._mdf = false;\n        cont -= 1;\n        i += dir;\n      }\n    }\n  }\n\n  /**\n   * a\n   */\n  addShape() {}\n}\n","import ShapeModifier from './ShapeModifier';\n\n/**\n * MouseModifier class\n * @private\n */\nexport default class MouseModifier extends ShapeModifier {\n  /**\n   * init modifier properties\n   * @param {*} elem element node\n   * @param {*} data mouse value property data\n   */\n  initModifierProperties(elem, data) {\n    this.getValue = this.processKeys;\n    this.data = data;\n    this.positions = [];\n  }\n\n  /**\n   * process keys\n   * @param {number} frameNum frameNum\n   * @param {*} forceRender force render\n   */\n  processKeys(frameNum, forceRender) {\n    if (frameNum === this.frameId && !forceRender) {\n      return;\n    }\n    this._mdf = true;\n  }\n\n  /**\n   * add shape to modifier\n   */\n  addShapeToModifier() {\n    this.positions.push([]);\n  }\n\n  /**\n   * a\n   * @param {*} path a\n   * @param {*} mouseCoords a\n   * @param {*} positions a\n   * @return {*}\n   */\n  processPath(path, mouseCoords, positions) {\n    let i; let len = path.v.length;\n    let vValues = []; let oValues = []; let iValues = [];\n    // let dist;\n    let theta; let x; let y;\n    // // OPTION A\n    for (i=0; i<len; i+=1) {\n      if (!positions.v[i]) {\n        positions.v[i] = [path.v[i][0], path.v[i][1]];\n        positions.o[i] = [path.o[i][0], path.o[i][1]];\n        positions.i[i] = [path.i[i][0], path.i[i][1]];\n        positions.distV[i] = 0;\n        positions.distO[i] = 0;\n        positions.distI[i] = 0;\n      }\n      theta = Math.atan2(\n          path.v[i][1] - mouseCoords[1],\n          path.v[i][0] - mouseCoords[0]\n      );\n\n      x = mouseCoords[0] - positions.v[i][0];\n      y = mouseCoords[1] - positions.v[i][1];\n      let distance = Math.sqrt( (x * x) + (y * y) );\n      positions.distV[i] += (distance - positions.distV[i]) * this.data.dc;\n\n      positions.v[i][0] = Math.cos(theta) * Math.max(0, this.data.maxDist-positions.distV[i])/2 + (path.v[i][0]);\n      positions.v[i][1] = Math.sin(theta) * Math.max(0, this.data.maxDist-positions.distV[i])/2 + (path.v[i][1]);\n\n\n      theta = Math.atan2(\n          path.o[i][1] - mouseCoords[1],\n          path.o[i][0] - mouseCoords[0]\n      );\n\n      x = mouseCoords[0] - positions.o[i][0];\n      y = mouseCoords[1] - positions.o[i][1];\n      distance = Math.sqrt( (x * x) + (y * y) );\n      positions.distO[i] += (distance - positions.distO[i]) * this.data.dc;\n\n      positions.o[i][0] = Math.cos(theta) * Math.max(0, this.data.maxDist-positions.distO[i])/2 + (path.o[i][0]);\n      positions.o[i][1] = Math.sin(theta) * Math.max(0, this.data.maxDist-positions.distO[i])/2 + (path.o[i][1]);\n\n\n      theta = Math.atan2(\n          path.i[i][1] - mouseCoords[1],\n          path.i[i][0] - mouseCoords[0]\n      );\n\n      x = mouseCoords[0] - positions.i[i][0];\n      y = mouseCoords[1] - positions.i[i][1];\n      distance = Math.sqrt( (x * x) + (y * y) );\n      positions.distI[i] += (distance - positions.distI[i]) * this.data.dc;\n\n      positions.i[i][0] = Math.cos(theta) * Math.max(0, this.data.maxDist-positions.distI[i])/2 + (path.i[i][0]);\n      positions.i[i][1] = Math.sin(theta) * Math.max(0, this.data.maxDist-positions.distI[i])/2 + (path.i[i][1]);\n\n      // ///OPTION 1\n      vValues.push(positions.v[i]);\n      oValues.push(positions.o[i]);\n      iValues.push(positions.i[i]);\n\n\n      // ///OPTION 2\n      // vValues.push(positions.v[i]);\n      // iValues.push([path.i[i][0]+(positions.v[i][0]-path.v[i][0]),path.i[i][1]+(positions.v[i][1]-path.v[i][1])]);\n      // oValues.push([path.o[i][0]+(positions.v[i][0]-path.v[i][0]),path.o[i][1]+(positions.v[i][1]-path.v[i][1])]);\n\n\n      // ///OPTION 3\n      // vValues.push(positions.v[i]);\n      // iValues.push(path.i[i]);\n      // oValues.push(path.o[i]);\n\n\n      // ///OPTION 4\n      // vValues.push(path.v[i]);\n      // oValues.push(positions.o[i]);\n      // iValues.push(positions.i[i]);\n    }\n\n\n    // // OPTION B\n    /* for(i=0;i<len;i+=1){\n          if(!positions.v[i]){\n              positions.v[i] = [path.v[i][0],path.v[i][1]];\n              positions.o[i] = [path.o[i][0],path.o[i][1]];\n              positions.i[i] = [path.i[i][0],path.i[i][1]];\n              positions.distV[i] = 0;\n\n          }\n          theta = Math.atan2(\n              positions.v[i][1] - mouseCoords[1],\n              positions.v[i][0] - mouseCoords[0]\n          );\n          x = mouseCoords[0] - positions.v[i][0];\n          y = mouseCoords[1] - positions.v[i][1];\n          var distance = this.data.ss * this.data.mx / Math.sqrt( (x * x) + (y * y) );\n\n          positions.v[i][0] += Math.cos(theta) * distance + (path.v[i][0] - positions.v[i][0]) * this.data.dc;\n          positions.v[i][1] += Math.sin(theta) * distance + (path.v[i][1] - positions.v[i][1]) * this.data.dc;\n\n\n          theta = Math.atan2(\n              positions.o[i][1] - mouseCoords[1],\n              positions.o[i][0] - mouseCoords[0]\n          );\n          x = mouseCoords[0] - positions.o[i][0];\n          y = mouseCoords[1] - positions.o[i][1];\n          var distance =  this.data.ss * this.data.mx / Math.sqrt( (x * x) + (y * y) );\n\n          positions.o[i][0] += Math.cos(theta) * distance + (path.o[i][0] - positions.o[i][0]) * this.data.dc;\n          positions.o[i][1] += Math.sin(theta) * distance + (path.o[i][1] - positions.o[i][1]) * this.data.dc;\n\n\n          theta = Math.atan2(\n              positions.i[i][1] - mouseCoords[1],\n              positions.i[i][0] - mouseCoords[0]\n          );\n          x = mouseCoords[0] - positions.i[i][0];\n          y = mouseCoords[1] - positions.i[i][1];\n          var distance =  this.data.ss * this.data.mx / Math.sqrt( (x * x) + (y * y) );\n\n          positions.i[i][0] += Math.cos(theta) * distance + (path.i[i][0] - positions.i[i][0]) * this.data.dc;\n          positions.i[i][1] += Math.sin(theta) * distance + (path.i[i][1] - positions.i[i][1]) * this.data.dc;\n\n          /////OPTION 1\n          //vValues.push(positions.v[i]);\n          // oValues.push(positions.o[i]);\n          // iValues.push(positions.i[i]);\n\n\n          /////OPTION 2\n          //vValues.push(positions.v[i]);\n          // iValues.push([path.i[i][0]+(positions.v[i][0]-path.v[i][0]),path.i[i][1]+(positions.v[i][1]-path.v[i][1])]);\n          // oValues.push([path.o[i][0]+(positions.v[i][0]-path.v[i][0]),path.o[i][1]+(positions.v[i][1]-path.v[i][1])]);\n\n\n          /////OPTION 3\n          //vValues.push(positions.v[i]);\n          //iValues.push(path.i[i]);\n          //oValues.push(path.o[i]);\n\n\n          /////OPTION 4\n          //vValues.push(path.v[i]);\n          // oValues.push(positions.o[i]);\n          // iValues.push(positions.i[i]);\n      }*/\n\n\n    return {\n      v: vValues,\n      o: oValues,\n      i: iValues,\n      c: path.c,\n    };\n  }\n\n  /**\n   * process shapes\n   */\n  processShapes() {\n    // FIXME: mouse modifier data\n    let mouseX = this.elem.globalData.mouseX;\n    let mouseY = this.elem.globalData.mouseY;\n    let shapePaths;\n    let i; let len = this.shapes.length;\n    let j; let jLen;\n\n    if (mouseX) {\n      let localMouseCoords = this.elem.globalToLocal([mouseX, mouseY, 0]);\n\n      let shapeData; let newPaths = [];\n      for (i=0; i<len; i+=1) {\n        shapeData = this.shapes[i];\n        if (!shapeData.shape._mdf && !this._mdf) {\n          shapeData.shape.paths = shapeData.last;\n        } else {\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths;\n          jLen = shapePaths.length;\n          for (j=0; j<jLen; j+=1) {\n            if (!this.positions[i][j]) {\n              this.positions[i][j] = {\n                v: [],\n                o: [],\n                i: [],\n                distV: [],\n                distO: [],\n                distI: [],\n              };\n            }\n            newPaths.push(this.processPath(shapePaths[j], localMouseCoords, this.positions[i][j]));\n          }\n          shapeData.shape.paths = newPaths;\n          shapeData.last = newPaths;\n        }\n      }\n    }\n  }\n}\n","import TrimModifier from './TrimModifier';\nimport RoundCornersModifier from './RoundCornersModifier';\nimport RepeaterModifier from './RepeaterModifier';\nimport MouseModifier from './MouseModifier';\n\nconst modifiers = {};\n\n/**\n * a\n * @private\n * @param {*} nm a\n * @param {*} factory a\n */\nfunction registerModifier(nm, factory) {\n  if (!modifiers[nm]) {\n    modifiers[nm] = factory;\n  }\n}\n\n/**\n * a\n * @private\n * @param {*} nm a\n * @param {*} elem a\n * @param {*} data a\n * @return {*}\n */\nfunction getModifier(nm, elem, data) {\n  return new modifiers[nm](elem, data);\n}\n\nregisterModifier('tm', TrimModifier);\nregisterModifier('rd', RoundCornersModifier);\nregisterModifier('rp', RepeaterModifier);\nregisterModifier('ms', MouseModifier);\n\nexport default { getModifier };\n","import DynamicPropertyContainer from '../helpers/dynamicProperties';\nimport PropertyFactory from '../PropertyFactory';\nimport { createTypedArray, createSizedArray } from '../helpers/arrays';\n\n/**\n * a\n * @private\n */\nexport default class DashProperty extends DynamicPropertyContainer {\n  /**\n   * a\n   * @param {*} elem a\n   * @param {*} data a\n   * @param {*} container a\n   */\n  constructor(elem, data, container) {\n    super();\n    this.elem = elem;\n    this.frameId = -1;\n    this.dataProps = createSizedArray(data.length);\n    // this.renderer = renderer;\n    this.k = false;\n    // this.dashStr = '';\n    this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\n    this.dashoffset = createTypedArray('float32', 1);\n    this.initDynamicPropertyContainer(container);\n    let i; let len = data.length || 0; let prop;\n    for (i = 0; i < len; i += 1) {\n      prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\n      this.k = prop.k || this.k;\n      this.dataProps[i] = { n: data[i].n, p: prop };\n    }\n    if (!this.k) {\n      this.getValue(true);\n    }\n    this._isAnimated = this.k;\n  }\n\n  /**\n   * a\n   * @param {number} frameNum frameNum\n   * @param {*} forceRender a\n   */\n  getValue(frameNum, forceRender) {\n    if (frameNum === this.frameId && !forceRender) {\n      return;\n    }\n    this.frameId = frameNum;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || forceRender;\n    if (this._mdf) {\n      let i = 0; let len = this.dataProps.length;\n      // if (this.renderer === 'svg') {\n      //   this.dashStr = '';\n      // }\n      for (i=0; i<len; i+=1) {\n        if (this.dataProps[i].n != 'o') {\n          // if (this.renderer === 'svg') {\n          //   this.dashStr += ' ' + this.dataProps[i].p.v;\n          // } else {\n          //   this.dashArray[i] = this.dataProps[i].p.v;\n          // }\n          this.dashArray[i] = this.dataProps[i].p.v;\n        } else {\n          this.dashoffset[0] = this.dataProps[i].p.v;\n        }\n      }\n    }\n  }\n}\n","import DynamicPropertyContainer from '../helpers/dynamicProperties';\nimport PropertyFactory from '../PropertyFactory';\nimport { createTypedArray } from '../helpers/arrays';\n\n/**\n * GradientProperty class\n * @private\n */\nexport default class GradientProperty extends DynamicPropertyContainer {\n  /**\n   * constructor GradientProperty\n   * @param {*} elem element node\n   * @param {*} data gradient property data\n   * @param {*} container container\n   */\n  constructor(elem, data, container) {\n    super();\n    this.data = data;\n    this.c = createTypedArray('uint8c', data.p*4);\n    let cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p*4) : data.k.k.length - data.p*4;\n    this.o = createTypedArray('float32', cLength);\n    this._cmdf = false;\n    this._omdf = false;\n    this._collapsable = this.checkCollapsable();\n    this._hasOpacity = cLength;\n    this.initDynamicPropertyContainer(container);\n    this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\n    this.k = this.prop.k;\n    this.getValue(true);\n  }\n\n  /**\n   * compare points\n   * @param {*} values values\n   * @param {*} points points\n   * @return {*}\n   */\n  comparePoints(values, points) {\n    let i = 0; let len = this.o.length/2; let diff;\n    while (i < len) {\n      diff = Math.abs(values[i*4] - values[points*4 + i*2]);\n      if (diff > 0.01) {\n        return false;\n      }\n      i += 1;\n    }\n    return true;\n  }\n\n  /**\n   * check collapsable\n   * @return {*}\n   */\n  checkCollapsable() {\n    if (this.o.length/2 !== this.c.length/4) {\n      return false;\n    }\n    if (this.data.k.k[0].s) {\n      let i = 0; let len = this.data.k.k.length;\n      while (i < len) {\n        if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\n          return false;\n        }\n        i += 1;\n      }\n    } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * get value\n   * @param {*} forceRender a\n   */\n  getValue(forceRender) {\n    this.prop.getValue();\n    this._mdf = false;\n    this._cmdf = false;\n    this._omdf = false;\n    if (this.prop._mdf || forceRender) {\n      let i; let len = this.data.p*4;\n      let mult; let val;\n      for (i=0; i<len; i+=1) {\n        mult = i%4 === 0 ? 100 : 255;\n        val = Math.round(this.prop.v[i]*mult);\n        if (this.c[i] !== val) {\n          this.c[i] = val;\n          this._cmdf = !forceRender;\n        }\n      }\n      if (this.o.length) {\n        len = this.prop.v.length;\n        for (i=this.data.p*4; i<len; i+=1) {\n          mult = i%2 === 0 ? 100 : 1;\n          val = i%2 === 0 ? Math.round(this.prop.v[i]*100):this.prop.v[i];\n          if (this.o[i-this.data.p*4] !== val) {\n            this.o[i-this.data.p*4] = val;\n            this._omdf = !forceRender;\n          }\n        }\n      }\n      this._mdf = !forceRender;\n    }\n  }\n}\n","import ShapeTransformManager from './helpers/ShapeTransformManager';\nimport ProcessedElement from './helpers/ProcessedElement';\nimport ShapeData from './helpers/ShapeData';\nimport PathPaint from './helpers/PathPaint';\nimport PropertyFactory from '../utils/PropertyFactory';\nimport { getTransformProperty } from '../utils/TransformProperty';\n// import StyleElement from '../shapes/StyleElement';\nimport ShapeModifiers from '../utils/shapes/ShapeModifiers';\nimport DashProperty from '../utils/shapes/DashProperty';\nimport GradientProperty from '../utils/shapes/GradientProperty';\nimport DynamicPropertyContainer from '../utils/helpers/dynamicProperties';\n// import Matrix from '../utils/lib/transformation-matrix';\n// import displayManager from '../displayManager';\n\nimport { degToRads } from '../constant/index';\n\n/**\n * ShapesFrames class\n * @private\n */\nexport default class ShapesFrames extends DynamicPropertyContainer {\n  /**\n   * a\n   * @param {*} keyframesManager a\n   * @param {*} shapes a\n   * @param {*} session a\n   */\n  constructor(keyframesManager, shapes, session) {\n    super();\n    this.frameId = -1;\n    this.keyframesManager = keyframesManager;\n    this.elem = keyframesManager.elem;\n    this.session = session;\n    this.shapes = [];\n    this.shapesData = shapes;\n    this.stylesList = [];\n    this.itemsData = [];\n    this.prevViewData = [];\n    this.shapeModifiers = [];\n    this.processedElements = [];\n    this.transformsManager = new ShapeTransformManager();\n    this.initDynamicPropertyContainer(keyframesManager);\n\n    this.lcEnum = {\n      '1': 'butt',\n      '2': 'round',\n      '3': 'square',\n    };\n    this.ljEnum = {\n      '1': 'miter',\n      '2': 'round',\n      '3': 'bevel',\n    };\n\n    // set to true when inpoint is rendered\n    this._isFirstFrame = true;\n\n    this.transformHelper = { opacity: 1, _opMdf: false };\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n    if (!this._isAnimated) {\n      this.transformHelper.opacity = 1;\n      this.transformHelper._opMdf = false;\n      this.updateModifiers(this.frameId);\n      this.transformsManager.processSequences(this._isFirstFrame);\n      this.updateShape(this.transformHelper, this.shapesData, this.itemsData);\n\n      this.updateGrahpics();\n    }\n  }\n\n\n  /**\n   * a\n   * @param {number} frameNum frameNum\n   */\n  // prepareProperties(frameNum) {\n  //   let i;\n  //   const len = this.dynamicProperties.length;\n  //   for (i = 0; i < len; i += 1) {\n  //     this.dynamicProperties[i].getValue(frameNum);\n  //     if (this.dynamicProperties[i]._mdf) {\n  //       this._mdf = true;\n  //     }\n  //   }\n  // }\n\n  /**\n   * a\n   * @param {*} prop a\n   */\n  // addDynamicProperty(prop) {\n  //   if (this.dynamicProperties.indexOf(prop) === -1) {\n  //     this.dynamicProperties.push(prop);\n  //   }\n  // }\n\n  /**\n   * create style element\n   * @param {*} data style item data\n   * @param {*} transforms transforms array\n   * @return {*}\n   */\n  createStyleElement(data, transforms) {\n    // let styleElem = {\n    //   data: data,\n    //   type: data.ty,\n    //   preTransforms: this.transformsManager.addTransformSequence(transforms),\n    //   transforms: [],\n    //   elements: [],\n    //   closed: data.hd === true,\n    // };\n    const styleElem = new PathPaint(this.elem, data, this.transformsManager.addTransformSequence(transforms));\n    const elementData = {};\n    if (data.ty == 'fl' || data.ty == 'st') {\n      elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\n      if (!elementData.c.k) {\n        styleElem.co = elementData.c.v;// 'rgb('+bm_floor(elementData.c.v[0])+','+bm_floor(elementData.c.v[1])+','+bm_floor(elementData.c.v[2])+')';\n      }\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\n      elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\n      elementData.h = PropertyFactory.getProp(this, data.h||{ k: 0 }, 0, 0.01, this);\n      elementData.a = PropertyFactory.getProp(this, data.a||{ k: 0 }, 0, degToRads, this);\n      elementData.g = new GradientProperty(this, data.g, this);\n    }\n    elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\n    if (data.ty == 'st' || data.ty == 'gs') {\n      styleElem.lc = this.lcEnum[data.lc] || 'round';\n      styleElem.lj = this.ljEnum[data.lj] || 'round';\n      if (data.lj == 1) {\n        styleElem.ml = data.ml;\n      }\n      elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\n      if (!elementData.w.k) {\n        styleElem.wi = elementData.w.v;\n      }\n      if (data.d) {\n        let d = new DashProperty(this, data.d, 'canvas', this);\n        elementData.d = d;\n        if (!elementData.d.k) {\n          styleElem.da = elementData.d.dashArray;\n          styleElem.do = elementData.d.dashoffset[0];\n        }\n      }\n    } else {\n      styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\n    }\n    this.stylesList.push(styleElem);\n    elementData.style = styleElem;\n    return elementData;\n  }\n\n  /**\n   * a\n   * @param {*} data a\n   */\n  addShapeToModifiers(data) {\n    let i; let len = this.shapeModifiers.length;\n    for (i=0; i<len; i+=1) {\n      this.shapeModifiers[i].addShape(data);\n    }\n  }\n\n  /**\n   * a\n   * @param {*} data a\n   * @return {Boolean}\n   */\n  isShapeInAnimatedModifiers(data) {\n    let i = 0; let len = this.shapeModifiers.length;\n    while (i < len) {\n      if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * a\n   * @param {number} frameNum frameNum\n   */\n  updateModifiers(frameNum) {\n    if (!this.shapeModifiers.length) {\n      return;\n    }\n    let i; let len = this.shapes.length;\n    for (i=0; i<len; i+=1) {\n      this.shapes[i].sh.reset();\n    }\n\n    len = this.shapeModifiers.length;\n    for (i=len-1; i>=0; i-=1) {\n      this.shapeModifiers[i].processShapes(frameNum, this._isFirstFrame);\n    }\n  }\n\n  /**\n   * a\n   * @param {*} elem a\n   * @return {number}\n   */\n  searchProcessedElement(elem) {\n    let elements = this.processedElements;\n    let i = 0; let len = elements.length;\n    while (i < len) {\n      if (elements[i].elem === elem) {\n        return elements[i].pos;\n      }\n      i += 1;\n    }\n    return 0;\n  }\n\n  /**\n   * a\n   * @param {*} elem a\n   * @param {*} pos a\n   */\n  addProcessedElement(elem, pos) {\n    let elements = this.processedElements;\n    let i = elements.length;\n    while (i) {\n      i -= 1;\n      if (elements[i].elem === elem) {\n        elements[i].pos = pos;\n        return;\n      }\n    }\n    elements.push(new ProcessedElement(elem, pos));\n  }\n\n  /**\n   * create group element\n   * @return {*}\n   */\n  createGroupElement() {\n    return {\n      it: [],\n      prevViewData: [],\n    };\n  }\n\n  /**\n   * create transform element\n   * @param {*} data a\n   * @return {*}\n   */\n  createTransformElement(data) {\n    return {\n      transform: {\n        opacity: 1,\n        _opMdf: false,\n        key: this.transformsManager.getNewKey(),\n        op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\n        mProps: getTransformProperty(this, data, this),\n      },\n    };\n  }\n\n  /**\n   * a\n   * @param {*} data a\n   * @return {*}\n   */\n  createShapeElement(data) {\n    const elementData = new ShapeData(this, data, this.stylesList, this.transformsManager);\n\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    return elementData;\n  }\n\n  /**\n   * a\n   */\n  reloadShapes() {\n    this._isFirstFrame = true;\n    let i; let len = this.itemsData.length;\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n    len = this.dynamicProperties.length;\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n    this.updateModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n  }\n\n  /**\n   * a\n   * @param {*} transform a\n   */\n  addTransformToStyleList(transform) {\n    const len = this.stylesList.length;\n    for (let i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.push(transform);\n      }\n    }\n  }\n\n  /**\n   * a\n   */\n  removeTransformFromStyleList() {\n    const len = this.stylesList.length;\n    for (let i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.pop();\n      }\n    }\n  }\n\n  /**\n   * a\n   * @param {*} styles a\n   */\n  closeStyles(styles) {\n    const len = styles.length;\n    for (let i = 0; i < len; i += 1) {\n      styles[i].closed = true;\n    }\n  }\n\n  /**\n   * a\n   * @param {*} arr a\n   * @param {*} itemsData a\n   * @param {*} prevViewData a\n   * @param {*} shouldRender a\n   * @param {*} transforms a\n   */\n  searchShapes(arr, itemsData, prevViewData, shouldRender, transforms) {\n    let i; let len = arr.length - 1;\n    let j; let jLen;\n    let ownStyles = []; let ownModifiers = []; let processedPos; let modifier; let currentTransform;\n    let ownTransforms = [].concat(transforms);\n    for (i=len; i>=0; i-=1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n      if (!processedPos) {\n        arr[i]._shouldRender = shouldRender;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n      if (arr[i].ty == 'fl' || arr[i].ty == 'st'|| arr[i].ty == 'gf'|| arr[i].ty == 'gs') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty == 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n          for (j=0; j<jLen; j+=1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\n      } else if (arr[i].ty == 'tr') {\n        if (!processedPos) {\n          currentTransform = this.createTransformElement(arr[i]);\n          itemsData[i] = currentTransform;\n        }\n        ownTransforms.push(itemsData[i]);\n        this.addTransformToStyleList(itemsData[i]);\n      } else if (arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i]);\n        }\n      } else if (arr[i].ty == 'tm' || arr[i].ty == 'rd') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty == 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          shouldRender = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n        ownModifiers.push(modifier);\n      }\n      this.addProcessedElement(arr[i], i + 1);\n    }\n    this.removeTransformFromStyleList();\n    this.closeStyles(ownStyles);\n    len = ownModifiers.length;\n    for (i=0; i<len; i+=1) {\n      ownModifiers[i].closed = true;\n    }\n  }\n\n  /**\n   * a\n   * @param {*} parentTransform a\n   * @param {*} groupTransform a\n   */\n  updateShapeTransform(parentTransform, groupTransform) {\n    if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\n      groupTransform.opacity = parentTransform.opacity;\n      groupTransform.opacity *= groupTransform.op.v;\n      groupTransform._opMdf = true;\n    }\n  }\n\n  /**\n   * a\n   * @param {*} styledShape a\n   * @param {*} shape a\n   */\n  updateStyledShape(styledShape, shape) {\n    if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\n      let shapeNodes = styledShape.trNodes;\n      let paths = shape.paths;\n      let i; let len; let j; let jLen = paths._length;\n      shapeNodes.length = 0;\n      let groupTransformMat = styledShape.transforms.finalTransform;\n      for (j = 0; j < jLen; j += 1) {\n        let pathNodes = paths.shapes[j];\n        if (pathNodes && pathNodes.v) {\n          len = pathNodes._length;\n          for (i = 1; i < len; i += 1) {\n            if (i === 1) {\n              shapeNodes.push({\n                t: 'm',\n                p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\n              });\n            }\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i]),\n            });\n          }\n          if (len === 1) {\n            shapeNodes.push({\n              t: 'm',\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\n            });\n          }\n          if (pathNodes.c && len) {\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0]),\n            });\n            shapeNodes.push({\n              t: 'z',\n            });\n          }\n        }\n      }\n      styledShape.trNodes = shapeNodes;\n    }\n  }\n\n  /**\n   * a\n   * @param {*} pathData a\n   * @param {*} itemData a\n   */\n  updatePath(pathData, itemData) {\n    if (pathData.hd !== true && pathData._shouldRender) {\n      let i; let len = itemData.styledShapes.length;\n      for (i = 0; i < len; i += 1) {\n        this.updateStyledShape(itemData.styledShapes[i], itemData.sh);\n      }\n    }\n  }\n\n  /**\n   * a\n   * @param {*} styleData a\n   * @param {*} itemData a\n   * @param {*} groupTransform a\n   */\n  updateFill(styleData, itemData, groupTransform) {\n    const styleElem = itemData.style;\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      // styleElem.co = 'rgb('\n      // + Math.floor(itemData.c.v[0]) + ','\n      // + Math.floor(itemData.c.v[1]) + ','\n      // + Math.floor(itemData.c.v[2]) + ')';\n      styleElem.co = itemData.c.v;// rgb2hex(itemData.c.v);\n    }\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n  }\n\n  /**\n   * a\n   * @param {*} styleData a\n   * @param {*} itemData aa\n   * @param {*} groupTransform a\n   */\n  updateStroke(styleData, itemData, groupTransform) {\n    let styleElem = itemData.style;\n    let d = itemData.d;\n    if (d && (d._mdf || this._isFirstFrame)) {\n      styleElem.da = d.dashArray;\n      styleElem.do = d.dashoffset[0];\n    }\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = itemData.c.v;// 'rgb('+bm_floor(itemData.c.v[0])+','+bm_floor(itemData.c.v[1])+','+bm_floor(itemData.c.v[2])+')';\n    }\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v*groupTransform.opacity;\n    }\n    if (itemData.w._mdf || this._isFirstFrame) {\n      styleElem.wi = itemData.w.v;\n    }\n  }\n\n  /**\n   * a\n   * @param {*} styleData a\n   * @param {*} itemData a\n   * @param {*} groupTransform a\n   */\n  updateGradientFill(styleData, itemData, groupTransform) {\n    let styleElem = itemData.style;\n    // if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || (styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf))) {\n    //   let ctx = this.globalData.canvasContext;\n    //   let grd;\n    //   let pt1 = itemData.s.v; let pt2 = itemData.e.v;\n    //   if (styleData.t === 1) {\n    //     grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\n    //   } else {\n    //     let rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n    //     let ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n\n    //     let percent = itemData.h.v >= 1 ? 0.99 : itemData.h.v <= -1 ? -0.99: itemData.h.v;\n    //     let dist = rad * percent;\n    //     let x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n    //     let y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n    //     grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\n    //   }\n\n    //   let i; let len = styleData.g.p;\n    //   let cValues = itemData.g.c;\n    //   let opacity = 1;\n\n    //   for (i = 0; i < len; i += 1) {\n    //     if (itemData.g._hasOpacity && itemData.g._collapsable) {\n    //       opacity = itemData.g.o[i*2 + 1];\n    //     }\n    //     grd.addColorStop(cValues[i * 4] / 100, 'rgba('+ cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ','+cValues[i * 4 + 3] + ',' + opacity + ')');\n    //   }\n    //   styleElem.grd = grd;\n    // }\n    styleElem.grd = itemData.g.c[0];\n    styleElem.coOp = itemData.o.v*groupTransform.opacity;\n  }\n\n  /**\n   * a\n   * @param {*} parentTransform a\n   * @param {*} items a\n   * @param {*} data a\n   */\n  updateShape(parentTransform, items, data) {\n    const len = items.length - 1;\n    let groupTransform = parentTransform;\n    for (let i = len; i >= 0; i -= 1) {\n      if (items[i].ty == 'tr') {\n        groupTransform = data[i].transform;\n        this.updateShapeTransform(parentTransform, groupTransform);\n      } else if (items[i].ty == 'sh' || items[i].ty == 'el' || items[i].ty == 'rc' || items[i].ty == 'sr') {\n        this.updatePath(items[i], data[i]);\n      } else if (items[i].ty == 'fl') {\n        this.updateFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty == 'st') {\n        this.updateStroke(items[i], data[i], groupTransform);\n      } else if (items[i].ty == 'gf' || items[i].ty == 'gs') {\n        this.updateGradientFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty == 'gr') {\n        this.updateShape(groupTransform, items[i].it, data[i].it);\n      }\n    }\n    // if (isMain) {\n    //   this.drawLayer();\n    // }\n  }\n\n  /**\n   * a\n   */\n  updateGrahpics() {\n    const len = this.stylesList.length;\n    for (let i = 0; i < len; i+=1) {\n      const currentStyle = this.stylesList[i];\n      currentStyle.updateGrahpics();\n    }\n  }\n\n  /**\n   * a\n   * @param {number} frameNum frameNum\n   */\n  getValue(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n    this.iterateDynamicProperties(frameNum);\n    this.transformHelper.opacity = 1;\n    this.transformHelper._opMdf = false;\n    this.updateModifiers(frameNum);\n    this.transformsManager.processSequences(this._isFirstFrame);\n    this.updateShape(this.transformHelper, this.shapesData, this.itemsData);\n\n    this.updateGrahpics();\n\n    this.frameId = frameNum;\n  }\n}\n","import { TransformProperty } from '../utils/TransformProperty';\n\n/**\n * a\n * @private\n */\nexport default class TransformFrames extends TransformProperty {\n  /**\n   * a\n   * @param {*} elem a\n   * @param {*} hs a\n   * @param {*} session a\n   */\n  constructor(elem, hs, session) {\n    super(elem, hs);\n    this.frameId = -1;\n    this.hs = hs;\n    this.session = session;\n  }\n\n  /**\n   * get transform\n   * @param {number} frameNum frameNum\n   */\n  getValue(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n\n    this.iterateDynamicProperties(frameNum);\n\n    this.frameId = frameNum;\n  }\n\n  /**\n   * get position x\n   */\n  get x() {\n    return this.p ? this.p.v[0] : this.px.v;\n  }\n\n  /**\n   * get position x\n   */\n  get y() {\n    return this.p ? this.p.v[1] : this.py.v;\n  }\n\n  /**\n   * get anchor x\n   */\n  get anchorX() {\n    return this.a.v[0];\n  }\n\n  /**\n   * get anchor x\n   */\n  get anchorY() {\n    return this.a.v[1];\n  }\n\n  /**\n   * get scale x\n   */\n  get scaleX() {\n    return this.s.v[0];\n  }\n\n  /**\n   * get scale x\n   */\n  get scaleY() {\n    return this.s.v[1];\n  }\n\n  /**\n   * get rotation\n   */\n  get rotation() {\n    return (this.r && this.r.v) || 0;\n  }\n\n  /**\n   * get alpha\n   */\n  get alpha() {\n    return this.o.v;\n  }\n}\n","import Tools from '../utils/tools';\nimport MaskFrames from './MaskFrames';\nimport ShapesFrames from './ShapesFrames';\nimport TransformFrames from './TransformFrames';\n\nimport PropertyFactory from '../utils/PropertyFactory';\n\n/**\n * KeyframesManager\n * @class\n * @private\n */\nclass KeyframesManager {\n  /**\n   * manager\n   * @param {object} elem elem\n   */\n  constructor(elem) {\n    // const { st, config } = session;\n\n    this.elem = elem;\n    // this.layer = layer;\n\n    // const opst = this.layer.op + st;\n\n    // this.isOverSide = opst >= config.op;\n\n    // this.keyframes = [];\n\n    // set to true when inpoint is rendered\n    this._isFirstFrame = false;\n\n    // list of animated properties\n    this.dynamicProperties = [];\n\n    // If layer has been modified in current tick this will be true\n    this._mdf = false;\n\n    this.transform = null;\n\n    this.masks = null;\n\n    this.shapes = null;\n\n    this._hasOutTypeExpression = false;\n\n    this.needUpdateOverlap = false;\n\n    this.isOverlapMode = false;\n\n    this.visible = true;\n\n    this._isFirstFrame = true;\n  }\n\n  /**\n   * inif frame data\n   * @param {object} layer lottie data about this layer\n   * @param {object} session parse session date\n   */\n  initFrame(layer, session) {\n    // this.elem = elem;\n    this.layer = layer;\n\n    const { local, global } = session;\n    this.session = session;\n\n    // const opst = this.layer.op + st;\n\n    // ip, op, st session\n    this.isOverlapLayer = this.layer.op >= (local.op - local.st);\n\n    this.isOverlapMode = global.overlapMode;\n\n    this.parseLayer(layer, session);\n  }\n\n  /**\n   * a\n   */\n  outTypeExpressionMode() {\n    this._hasOutTypeExpression = true;\n    if (this.isOverlapLayer) {\n      this.needUpdateOverlap = true;\n    }\n  }\n\n  /**\n   * Calculates all dynamic values\n   * @param {number} frameNum current frame number in Layer's time\n   * @param {boolean} isVisible if layers is currently in range\n   */\n  prepareProperties(frameNum, isVisible) {\n    let i; let len = this.dynamicProperties.length;\n    for (i = 0; i < len; i += 1) {\n      if (isVisible || this.needUpdateOverlap || (this.elem._isParent && this.dynamicProperties[i].propType === 'transform')) {\n        this.dynamicProperties[i].getValue(frameNum);\n        if (this.dynamicProperties[i]._mdf) {\n          // this.globalData._mdf = true;\n          this._mdf = true;\n        }\n      }\n    }\n  }\n\n  /**\n   * a\n   * @param {*} prop a\n   */\n  addDynamicProperty(prop) {\n    if (this.dynamicProperties.indexOf(prop) === -1) {\n      this.dynamicProperties.push(prop);\n    }\n  }\n\n  /**\n   * parse\n   * @param {object} layer lottie data about this layer\n   * @param {object} session parse session date\n   */\n  parseLayer({ ks, hasMask, masksProperties, shapes, tm }, session) {\n    if (ks) {\n      this.transform = new TransformFrames(this, ks, session);\n      // ao logic\n    }\n\n    if (hasMask) {\n      this.masks = new MaskFrames(this, masksProperties, session);\n    }\n    if (shapes) {\n      this.shapes = new ShapesFrames(this, shapes, session);\n    }\n\n    if (tm) {\n      const { frameRate } = session.global;\n      this.tm = PropertyFactory.getProp(this, tm, 0, frameRate, this);\n    }\n  }\n\n  /**\n   * update\n   * @param {number} frameNum frameNum\n   */\n  updateFrame(frameNum) {\n    this._mdf = false;\n    const inIpOpRange = Tools.inRange(frameNum, this.layer.ip, this.layer.op);\n    if (this.isOverlapMode && this.isOverlapLayer) {\n      this.visible = frameNum >= this.layer.ip;\n    } else {\n      this.visible = inIpOpRange;\n    }\n\n    this.prepareProperties(frameNum, inIpOpRange);\n  }\n\n  /**\n   * a\n   */\n  updateDisplay() {\n    const display = this.elem.display;\n    if (!this.elem._isRoot) {\n      if (this.visible) {\n        display.show();\n      } else {\n        display.hide();\n      }\n      if (this._mdf || this.transform._mdf || this._isFirstFrame) display.updateLottieTransform(this.transform);\n      if (this.masks && (this.masks._mdf || this._isFirstFrame)) display.updateLottieMasks(this.masks);\n    }\n    this._isFirstFrame = false;\n  }\n}\n\nexport default KeyframesManager;\n","import KeyframesManager from '../keyframes/KeyframesManager';\nimport { getDisplayByType } from '../register/DisplayRegister';\n\n/**\n * BaseElement, all lottie element are extend from this\n * @private\n */\nexport default class BaseElement {\n  /**\n   * require lottie data about this layer\n   * @param {object} layer lottie data about this layer\n   */\n  constructor(layer) {\n    this.data = layer;\n    if (this.data.sr === undefined) {\n      this.data.sr = 1;\n    }\n    this.offsetTime = layer.st || 0;\n    this.fullname = layer.nm || '';\n    this.idname = layer.ln || '';\n    this.classnames = layer.cl ? layer.cl.split(' ') : [];\n    this.bodymovin = new KeyframesManager(this);\n    this.displayType = '';\n    this.display = null;\n    this.hierarchy = null;\n\n    this.lottieTreeParent = null;\n  }\n\n  /**\n   * init bodymovin data\n   * @param {object} layer lottie data about this layer\n   * @param {object} session parse session date\n   */\n  initBodymovin(layer, session) {\n    this.bodymovin.initFrame(layer, session);\n    if (this.display && this.display.onSetupLottie) this.display.onSetupLottie();\n  }\n\n  /**\n   * has valid masks\n   * @return {boolean}\n   */\n  hasValidMasks() {\n    return !!(this.bodymovin.masks && this.bodymovin.masks.hasMasks);\n  }\n\n  /**\n   * set hierarchy\n   * @param {*} elem elem\n   */\n  setHierarchy(elem) {\n    this.hierarchy = elem;\n    this.display.setHierarchy(elem.display);\n  }\n\n  /**\n   * init display instance, which register by registerDisplayByType\n   * @param {string} type display type\n   * @param {object} data display instance data\n   * @return {DisplayInstance}\n   */\n  initDisplayInstance(type, data) {\n    const DisplayClass = getDisplayByType(type);\n    const displayInstance = new DisplayClass(this, data);\n    return displayInstance;\n  }\n\n  /**\n   * update frame\n   * @param {*} frameNum current frame number\n   */\n  updateFrame(frameNum) {\n    this.bodymovin.updateFrame(frameNum);\n    this.bodymovin.updateDisplay();\n  }\n}\n","import BaseElement from './BaseElement';\nimport DisplayRegister from '../register/DisplayRegister';\n\n/**\n * CompElement, pre-comp lottie layer\n * @extends BaseElement\n */\nexport default class CompElement extends BaseElement {\n  /**\n   * require lottie data and parse session about this layer\n   * @param {object} layer lottie data about this layer\n   * @param {object} session parse session date\n   */\n  constructor(layer, session) {\n    super(layer);\n\n    const { global } = session;\n    this.session = session;\n\n    const config = {\n      layer,\n      session,\n    };\n\n    if (global.maskComp) {\n      config.maskComp = global.maskComp;\n      const { w, h } = layer;\n      config.viewport = { w, h };\n    }\n    this.config = config;\n\n    this.childNodes = [];\n\n    this.displayType = DisplayRegister.Type.Component;\n\n    this.innerDisplay = null;\n    this.display = this.initDisplayInstance(this.displayType, config);\n\n    this.initBodymovin(layer, session);\n  }\n\n  /**\n   * update frame\n   * @param {*} frameNum current frame number\n   */\n  updateFrame(frameNum) {\n    this.bodymovin.updateFrame(frameNum);\n    this.bodymovin.updateDisplay();\n\n    frameNum -= this.offsetTime;\n\n    if (this.bodymovin.tm) {\n      let timeRemapped = this.bodymovin.tm.v;\n      if (timeRemapped === this.data.op) {\n        timeRemapped = this.data.op - 1;\n      }\n      frameNum = timeRemapped;\n    } else {\n      frameNum = frameNum / this.data.sr;\n    }\n    for (let i = 0; i < this.childNodes.length; i++) {\n      this.childNodes[i].updateFrame(frameNum);\n    }\n  }\n\n  /**\n   * add child element\n   * @param {BaseElement} node child element\n   */\n  addChild(node) {\n    node.lottieTreeParent = this;\n    this.childNodes.push(node);\n    if (this.innerDisplay) {\n      this.innerDisplay.addChild(node.display);\n    } else {\n      this.display.addChild(node.display);\n    }\n  }\n}\n","import BaseElement from './BaseElement';\nimport DisplayRegister from '../register/DisplayRegister';\n\n/**\n * SolidElement, lottie solid layer\n * @extends BaseElement\n */\nexport default class SolidElement extends BaseElement {\n  /**\n   * require lottie data and parse session about this layer\n   * @param {object} layer lottie data about this layer\n   * @param {object} session parse session date\n   */\n  constructor(layer, session) {\n    super(layer);\n\n    const config = {\n      layer,\n      session,\n      rect: { x: 0, y: 0, width: layer.sw, height: layer.sh },\n      color: layer.sc,\n    };\n    this.config = config;\n    this.session = session;\n\n    this.displayType = DisplayRegister.Type.Solid;\n\n    this.display = this.initDisplayInstance(this.displayType, config);\n\n    this.initBodymovin(layer, session);\n  }\n}\n","import BaseElement from './BaseElement';\nimport DisplayRegister from '../register/DisplayRegister';\nimport Tools from '../utils/tools';\n\n/**\n * ShapeElement, lottie image layer\n * @extends BaseElement\n */\nexport default class SpriteElement extends BaseElement {\n  /**\n   * require lottie data and parse session about this layer\n   * @param {object} layer lottie data about this layer\n   * @param {object} session parse session date\n   */\n  constructor(layer, session) {\n    super(layer);\n\n    const { global: { textureLoader, assets } } = session;\n    const asset = Tools.getAssets(layer.refId, assets);\n\n    const config = {\n      layer,\n      session,\n      texture: textureLoader.getTextureById(asset.id),\n      asset,\n    };\n    this.config = config;\n    this.session = session;\n\n    this.displayType = DisplayRegister.Type.Sprite;\n\n    this.display = this.initDisplayInstance(this.displayType, config);\n\n    this.initBodymovin(layer, session);\n  }\n}\n","import BaseElement from './BaseElement';\nimport DisplayRegister from '../register/DisplayRegister';\n\n/**\n * ShapeElement, lottie shape layer\n * @extends BaseElement\n */\nexport default class ShapeElement extends BaseElement {\n  /**\n   * require lottie data and parse session about this layer\n   * @param {object} layer lottie data about this layer\n   * @param {object} session parse session date\n   */\n  constructor(layer, session) {\n    super(layer);\n\n    const config = {\n      layer,\n      session,\n    };\n    this.config = config;\n    this.session = session;\n\n    this.displayType = DisplayRegister.Type.Shape;\n\n    this.display = this.initDisplayInstance(this.displayType, config);\n\n    this.initBodymovin(layer, session);\n  }\n}\n","import BaseElement from './BaseElement';\nimport DisplayRegister from '../register/DisplayRegister';\n\n/**\n * NullElement, lottie null layer\n * @extends BaseElement\n */\nexport default class NullElement extends BaseElement {\n  /**\n   * require lottie data and parse session about this layer\n   * @param {object} layer lottie data about this layer\n   * @param {object} session parse session date\n   */\n  constructor(layer, session) {\n    super(layer);\n\n    const config = {\n      layer,\n      session,\n    };\n    this.config = config;\n    this.session = session;\n\n    this.displayType = DisplayRegister.Type.Null;\n\n    this.display = this.initDisplayInstance(this.displayType, config);\n\n    this.initBodymovin(layer, session);\n  }\n}\n","import Eventer from './utils/Eventer';\nimport Tools from './utils/tools';\n// import Loader from '../utils/Loader';\n// import LayerRegister from './register/LayerRegister';\nimport { loadTexture, loadJson } from './register/LoaderRegister';\nimport DataManager from './utils/DataManager';\nimport CompElement from './elements/CompElement';\nimport SolidElement from './elements/SolidElement';\nimport SpriteElement from './elements/SpriteElement';\nimport ShapeElement from './elements/ShapeElement';\nimport NullElement from './elements/NullElement';\nimport DisplayRegister, { getDisplayByType } from './register/DisplayRegister';\n\n/**\n * an animation group, store and compute frame information, one lottie animate one AnimationGroup\n * @class\n * @extends Eventer\n */\nexport default class AnimationGroup extends Eventer {\n  /**\n   * parser a bodymovin data, and you can post some config for this animation group\n   * @param {object} options lottie animation setting\n   * @param {object} options.keyframes bodymovin data, which export from AE by bodymovin\n   * @param {number} [options.repeats=0] need repeat some times?\n   * @param {boolean} [options.infinite=false] play this animation round and round forever\n   * @param {boolean} [options.alternate=false] alternate play direction every round\n   * @param {number} [options.wait=0] need wait how much millisecond to start\n   * @param {number} [options.delay=0] need delay how much millisecond to begin, effect every loop round\n   * @param {number} [options.timeScale=1] animation speed, time scale factor\n   * @param {boolean} [options.autoLoad=true] auto load assets, if this animation have\n   * @param {boolean} [options.autoStart=true] auto start animation after assets loaded\n   * @param {boolean} [options.copyJSON=false] copy json when this lottie data has two parse instance\n   * @param {boolean} [options.overlapMode=false] enable overlap mode, it is useful when you have a overlap expression\n   * @param {object} [options.segments={}] animation segments, splite by start and end keyframe number\n   * @param {boolean} [options.initSegment=''] animation segments, init finite state machine\n   * @param {boolean} [options.justDisplayOnImagesLoaded=true] just display group when all images loaded\n   * @param {boolean} [options.maskComp=false] add mask for each comp\n   * @param {string} [options.prefix=''] assets url prefix, look like link path\n   */\n  constructor(options) {\n    super();\n    /**\n     * 动画是否是激活状态\n     * @member {boolean}\n     */\n    this.living = true;\n\n    /**\n     * 动画无限循环播放\n     * @member {boolean}\n     */\n    this.infinite = options.infinite || false;\n\n    /**\n     * 动画循环多少次\n     * @member {number}\n     */\n    this.repeats = options.repeats || 0;\n\n    /**\n     * 动画交替播放\n     * @member {boolean}\n     */\n    this.alternate = options.alternate || false;\n\n    /**\n     * 动画延迟多长时间启动\n     * @member {number}\n     */\n    this.wait = options.wait || 0;\n\n    /**\n     * 动画延迟多长时间开始\n     * @member {number}\n     */\n    this.delay = options.delay || 0;\n\n    /**\n     * 动画是否启动 overlap 模式\n     * @member {number}\n     */\n    this.overlapMode = options.overlapMode || false;\n\n    /**\n     * 动画速度\n     * @member {number}\n     */\n    this.timeScale = Tools.isNumber(options.timeScale) ?\n      options.timeScale :\n      1;\n\n    /**\n     * 当前帧数\n     * @member {number}\n     */\n    this.frameNum = 0;\n\n    /**\n     * 是否暂停状态，可以使用\n     * @member {number}\n     */\n    this.isPaused = true;\n\n    /**\n     * 动画方向，1 or -1\n     * @member {number}\n     */\n    this.direction = 1;\n\n    /**\n     * 记录帧位，初始值随意设置为负无穷大\n     * @member {number}\n     * @private\n     */\n    this._lastFrame = -Infinity;\n\n    /**\n     * 缓存重复多少次\n     * @member {number}\n     * @private\n     */\n    this._repeatsCut = this.repeats;\n\n    /**\n     * 缓存延迟多少时间\n     * @member {number}\n     * @private\n     */\n    this._delayCut = this.delay;\n\n    /**\n     * 缓存等待多少时间\n     * @member {number}\n     * @private\n     */\n    this._waitCut = this.wait;\n\n    /**\n     * 分段动画配置，和 segmentName 参数配合使用\n     * @member {object}\n     */\n    this.segments = options.segments || {};\n\n    /**\n     * 有限状态机，记录当前的状态机，和 segments 参数配合使用\n     * @member {string}\n     * @private\n     */\n    this._segmentName = options.initSegment || '';\n\n    /**\n     * 资源相对地址前缀\n     * @member {string}\n     * @private\n     */\n    this._prefix = options.prefix || '';\n\n    /**\n     * 是否自动加载图片\n     * @member {boolean}\n     * @private\n     */\n    this._autoLoad = Tools.isBoolean(options.autoLoad) ? options.autoLoad : true;\n\n    /**\n     * 资源就绪后是否自动开始播放\n     * @member {boolean}\n     * @private\n     */\n    this._autoStart = Tools.isBoolean(options.autoStart) ? options.autoStart : true;\n\n    /**\n     * 资源就绪后才展示动画\n     * @member {boolean}\n     * @private\n     */\n    this._justDisplayOnImagesLoaded = Tools.isBoolean(options.justDisplayOnImagesLoaded) ? options.justDisplayOnImagesLoaded : true;\n\n    /**\n     * 是否为每个预合成增加画布遮罩\n     * @member {boolean}\n     * @private\n     */\n    this._maskComp = options.maskComp || false;\n\n    /**\n     * 图片加载\n     * @member {Loader}\n     */\n    this.textureLoader = null;\n\n    /**\n     * json加载\n     * @member {Loader}\n     */\n    this.jsonLoader = null;\n\n    /**\n     * 该动画组的根节点\n     * @member {CompElement}\n     */\n    this.root = null;\n\n    /**\n     * 该动画组的父容器\n     * @member {AnimationManager}\n     */\n    this.parent = null;\n\n    const Container = getDisplayByType(DisplayRegister.Type.Container);\n    /**\n     * 该动画组的根节点显示对象\n     * @member {Display}\n     */\n    this.group = new Container();\n\n    /**\n     * 该动画组的动画节点显示对象\n     * @member {Display}\n     */\n    this.display = null;\n\n    /**\n     * 显示对象是否就绪\n     * @member {boolean}\n     */\n    this.isDisplayLoaded = false;\n\n    /**\n     * 图片资源是否就绪\n     * @member {boolean}\n     */\n    this.isImagesLoaded = false;\n\n    /**\n     * 是否拷贝json数据\n     * @member {boolean}\n     * @private\n     */\n    this._copyJSON = options.copyJSON || false;\n\n    if (options.keyframes) {\n      if (!this._prefix && options.keyframes.prefix) this._prefix = options.keyframes.prefix;\n      this._setupDate(options.keyframes);\n    } else if (options.path) {\n      let prefix = '';\n      if (options.path.lastIndexOf('\\\\') !== -1) {\n        prefix = options.path.substr(0, options.path.lastIndexOf('\\\\')+1);\n      } else {\n        prefix = options.path.substr(0, options.path.lastIndexOf('/')+1);\n      }\n      if (!this._prefix && prefix) this._prefix = prefix;\n\n      this.jsonLoader = loadJson(options.path);\n      this.jsonLoader.once('success', (response) => {\n        this._setupDate(response);\n      });\n      this.jsonLoader.once('error', (error) => {\n        this.emit('error', error);\n      });\n    }\n  }\n\n  /**\n   * 安装动画数据\n   * @private\n   * @param {Object} data data.json\n   */\n  _setupDate(data) {\n    /**\n     * copyJSON 为 true 时，存储的是原始数据\n     * @private\n     */\n    this._sourceData = data;\n\n    if (this._copyJSON) data = Tools.copyJSON(data);\n\n    DataManager.completeData(data);\n\n    /**\n     * 动画数据\n     * @member {object}\n     */\n    this.keyframes = data;\n\n    /**\n     * 提取全局信息\n     */\n    const { w, h, st = 0, fr, ip, op, assets } = data;\n\n    /**\n     * 帧率\n     * @member {number}\n     */\n    this.frameRate = fr;\n\n    /**\n     * 帧素\n     * @member {number}\n     */\n    this.frameMult = fr / 1000;\n\n    /**\n     * 默认动画配置\n     * @private\n     */\n    this._defaultSegment = [ip, op];\n\n    // 获取初始化分段\n    const segment = (this._segmentName && this.segments[this._segmentName]) || this._defaultSegment;\n\n    /**\n     * 当前segment播放的开始帧\n     * @member {number}\n     */\n    this.beginFrame = segment[0];\n\n    /**\n     * 当前segment播放的结束帧\n     * @member {number}\n     */\n    this.endFrame = segment[1];\n\n    /**\n     * 每帧时间\n     * @member {number}\n     * @private\n     */\n    this._timePerFrame = 1000 / fr;\n\n    /**\n     * 总帧数\n     * @member {number}\n     */\n    this.duration = Math.floor(this.endFrame - this.beginFrame);\n\n    let textureLoader = null;\n    const images = assets.filter((it) => {\n      return it.u || it.p;\n    });\n    if (images.length > 0) {\n      this.textureLoader = textureLoader = loadTexture(images, { prefix: this._prefix, autoLoad: this._autoLoad });\n      if (textureLoader.loaded) {\n        this.isImagesLoaded = true;\n        this.isPaused = !this._autoStart;\n        this.emit('ImageReady');\n      } else {\n        textureLoader.once('complete', () => {\n          this.isImagesLoaded = true;\n          this.emit('ImageReady');\n        });\n\n        if (this._pausedNeedSet !== null) {\n          this._pausedNeedSet = true;\n          textureLoader.once('complete', () => {\n            if (this._pausedNeedSet) {\n              this._pausedNeedSet = false;\n              this.isPaused = !this._autoStart;\n            }\n          });\n        }\n      }\n    } else {\n      this.isImagesLoaded = true;\n      this.isPaused = !this._autoStart;\n    }\n\n    const session = {\n      global: {\n        assets,\n        textureLoader,\n        frameRate: fr,\n        maskComp: this._maskComp,\n        overlapMode: this.overlapMode,\n      },\n      local: {\n        w, h, ip, op, st,\n      },\n    };\n    this._buildElements(session);\n\n    if (\n      this.textureLoader !== null &&\n      this._justDisplayOnImagesLoaded &&\n      !this.textureLoader.loaded &&\n      this._justDisplayNeedSet !== null\n    ) {\n      this.group.visible = false;\n      this._justDisplayNeedSet = true;\n      this.textureLoader.once('complete', () => {\n        if (this._justDisplayNeedSet) {\n          this._justDisplayNeedSet = false;\n          this.group.visible = true;\n        }\n      });\n    }\n\n    this.isDisplayLoaded = true;\n\n    this.update(0, true);\n  }\n\n  /**\n   * 创建动画元素\n   * @private\n   * @param {Object} session session information\n   */\n  _buildElements(session) {\n    this.root = this._extraCompositions(this.keyframes, session, true);\n    this.display = this.root.display;\n\n    this.group.addChild(this.display);\n\n    this.emit('DOMLoaded').emit('DisplayReady');\n    if (this.textureLoader === null) {\n      this.emit('success');\n    } else {\n      if (this.textureLoader.loaded) {\n        this.emit('success');\n      } else {\n        this.textureLoader.once('complete', () => this.emit('success'));\n      }\n    }\n  }\n\n  /**\n   * 提取预合成\n   * @private\n   * @param {object} data layers\n   * @param {object} assets object\n   * @param {boolean} isRoot isRoot\n   * @return {container}\n   */\n  _extraCompositions(data, { global, local }, isRoot = false) {\n    const { w, h, ip, op, st = 0 } = data;\n    const container = new CompElement(data, { global, local });\n    container._isRoot = isRoot;\n    const layers = data.layers || Tools.getAssets(data.refId, global.assets).layers;\n\n    const session = {\n      global,\n      local: {\n        w, h, ip, op, st,\n      },\n    };\n\n    const elementsMap = this._createElements(layers, session);\n    for (let i = layers.length - 1; i >= 0; i--) {\n      const layer = layers[i];\n      const item = elementsMap[layer.ind];\n      if (!item) continue;\n      if (!Tools.isUndefined(layer.parent)) {\n        const parent = elementsMap[layer.parent];\n        parent._isParent = true;\n        item.setHierarchy(parent);\n      }\n      // const nameHierarchy = parentName + '.' + item.name;\n      // global.register.setLayer(nameHierarchy, item);\n      container.addChild(item);\n    }\n    return container;\n  }\n\n  /**\n   * createElements\n   * @private\n   * @param {arrya} layers layers\n   * @param {object} session parse session date\n   * @return {object}\n   */\n  _createElements(layers, session) {\n    const elementsMap = {};\n    for (let i = layers.length - 1; i >= 0; i--) {\n      const layer = layers[i];\n      let element = null;\n\n      if (layer.td !== undefined) continue;\n\n      switch (layer.ty) {\n        case 0:\n          element = this._extraCompositions(layer, session);\n          break;\n        case 1:\n          element = new SolidElement(layer, session);\n          break;\n        case 2:\n          element = new SpriteElement(layer, session);\n          break;\n        case 3:\n          element = new NullElement(layer, session);\n          break;\n        case 4:\n          element = new ShapeElement(layer, session);\n          break;\n        default:\n          continue;\n      }\n\n      if (element) {\n        if (layer.ind === undefined) layer.ind = i;\n        elementsMap[layer.ind] = element;\n        element.name = layer.nm || null;\n      }\n    }\n    return elementsMap;\n  }\n\n  /**\n   * get layer display by selector\n   * <br/> `Note:` only can use after data was setup or after DisplayReady event\n   * @param {string} selector layer classname or idname\n   * @return {display}\n   */\n  getDisplayByQuerySelector(selector) {\n    const layer = this.querySelector(selector);\n    if (layer && layer.display) return layer.display;\n    console.warn('can not find display which query with ', selector);\n    return null;\n  }\n\n  /**\n   * query match\n   * @private\n   * @param {string} selector layer classname or idname\n   * @param {*} node start node\n   * @param {*} nodes match result\n   * @return {Boolean}\n   */\n  _queryMatch(selector, node, nodes) {\n    const selType = selector.substr(0, 1);\n    const selName = selector.substr(1, selector.length);\n    let matched = false;\n    if (selType === '#') {\n      matched = node.idname === selName;\n    } else if (selType === '.') {\n      matched = node.classnames.indexOf(selName) !== -1;\n    }\n    if (matched) nodes.push(node);\n    return matched;\n  }\n\n  /**\n   * search node tree\n   * @private\n   * @param {string} selector layer classname or idname\n   * @param {*} node start node\n   * @param {*} nodes match result\n   * @param {*} returnWhenMatch just match one\n   * @return {Boolean}\n   */\n  _searchNodes(selector, node, nodes, returnWhenMatch = false) {\n    if (node.childNodes && node.childNodes.length > 0) {\n      const preComps = [];\n      for (let i = 0; i < node.childNodes.length; i++) {\n        const childNode = node.childNodes[i];\n        if (this._queryMatch(selector, childNode, nodes) && returnWhenMatch) return true;\n        if (childNode.childNodes && childNode.childNodes.length > 0) preComps.push(childNode);\n      }\n\n      for (let j = 0; j < preComps.length; j++) {\n        if (this._searchNodes(selector, preComps[j], nodes, returnWhenMatch)) return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * get layer by classname or idname\n   * <br/> `Note:` only can use after data was setup or after DisplayReady event\n   * @param {string} selector layer classname or idname\n   * @return {Element}\n   */\n  querySelector(selector) {\n    const nodes = [];\n    if (this._queryMatch(selector, this.root, nodes)) return nodes[0];\n    this._searchNodes(selector, this.root, nodes, true);\n\n    return nodes[0] || null;\n  }\n\n  /**\n   * get layers by classname\n   * <br/> `Note:` only can use after data was setup or after DisplayReady event\n   * @param {string} selector layer classname\n   * @return {Element}\n   */\n  querySelectorAll(selector) {\n    const nodes = [];\n    const selType = selector.substr(0, 1);\n    const idType = selType === '#';\n    if (this._queryMatch(selector, this.root, nodes) && idType) return nodes;\n    this._searchNodes(selector, this.root, nodes, idType);\n\n    return nodes;\n  }\n\n  /**\n   * bind other animation-group or display-object to this animation-group with name path\n   * <br/> `Note:` only can use after data was setup or after DisplayReady event\n   * @param {*} selector\n   * @param {*} child\n   * @return {this}\n   */\n  bindSlot(selector, child) {\n    const slotDisplay = this.getDisplayByQuerySelector(selector);\n    slotDisplay.addChild(child);\n    return this;\n  }\n\n  /**\n   * unbind other animation-group or display-object to this animation-group with name path\n   * <br/> `Note:` only can use after data was setup or after DisplayReady event\n   * @param {*} selector\n   * @param {*} child\n   * @return {this}\n   */\n  unbindSlot(selector, child) {\n    const slotDisplay = this.getDisplayByQuerySelector(selector);\n    slotDisplay.removeChild(child);\n    return this;\n  }\n\n  /**\n   * emit frame\n   * @private\n   * @param {*} np now frame\n   */\n  _emitFrame(np) {\n    this.emit(`@${np}`);\n  }\n\n  /**\n   * update with time snippet, just support for AnimationManager\n   * @param {number} snippetCache snippet\n   * @param {number} firstFrame snippet\n   */\n  update(snippetCache, firstFrame = false) {\n    if (!this.living || !this.isDisplayLoaded || (this.isPaused && !firstFrame)) return;\n\n    const isEnd = this._updateTime(snippetCache);\n\n    const correctedFrameNum = this.beginFrame + this.frameNum;\n    this.root.updateFrame(correctedFrameNum);\n\n    const np = correctedFrameNum >> 0;\n    if (this._lastFrame !== np) {\n      this._emitFrame(this.direction > 0 ? np : this._lastFrame);\n      this._lastFrame = np;\n    }\n    if (isEnd === false) {\n      this.emit('enterFrame', correctedFrameNum);\n      this.emit('update', this.frameNum / this.duration);\n    } else if (this.hadEnded !== isEnd && isEnd === true) {\n      this.emit('complete');\n    }\n    this.hadEnded = isEnd;\n  }\n\n  /**\n   * update timeline with time snippet\n   * @private\n   * @param {number} snippet snippet\n   * @return {boolean} frameNum status\n   */\n  _updateTime(snippet) {\n    const snippetCache = this.direction * this.timeScale * snippet;\n    if (this._waitCut > 0) {\n      this._waitCut -= Math.abs(snippetCache);\n      return null;\n    }\n    if (this.isPaused || this._delayCut > 0) {\n      if (this._delayCut > 0) this._delayCut -= Math.abs(snippetCache);\n      return null;\n    }\n\n    this.frameNum += snippetCache / this._timePerFrame;\n    let isEnd = false;\n\n    if (this._spill()) {\n      if (this._repeatsCut > 0 || this.infinite) {\n        if (this._repeatsCut > 0) --this._repeatsCut;\n        this._delayCut = this.delay;\n        if (this.alternate) {\n          this.direction *= -1;\n          this.frameNum = Tools.codomainBounce(this.frameNum, 0, this.duration);\n        } else {\n          this.direction = 1;\n          this.frameNum = Tools.euclideanModulo(this.frameNum, this.duration);\n        }\n        this.emit('loopComplete');\n      } else {\n        if (!this.overlapMode) {\n          this.frameNum = Tools.clamp(this.frameNum, 0, this.duration);\n          this.living = false;\n        }\n        isEnd = true;\n      }\n    }\n\n    return isEnd;\n  }\n\n  /**\n   * is this time frameNum spill the range\n   * @private\n   * @return {boolean}\n   */\n  _spill() {\n    const bottomSpill = this.frameNum <= 0 && this.direction === -1;\n    const topSpill = this.frameNum >= this.duration && this.direction === 1;\n    return bottomSpill || topSpill;\n  }\n\n  /**\n   * get time\n   * <br/> `Note:` only can use after data was setup or after DisplayReady event\n   * @param {number} frame frame index\n   * @return {number}\n   */\n  frameToTime(frame) {\n    return frame * this._timePerFrame;\n  }\n\n  /**\n   * set animation speed, time scale\n   * @param {number} speed\n   */\n  setSpeed(speed) {\n    this.timeScale = speed;\n  }\n\n  /**\n   * set finite state machine\n   * <br/> `Note:` only can use after data was setup or after DisplayReady event\n   * @param {String|Array} name segment name which define in segments props, you can also pass an array like [10, 30]\n   * @param {Object} options animation config\n   * @param {Number} [options.repeats=0] need repeat somt times?\n   * @param {Boolean} [options.infinite=false] play this animation round and round forever\n   * @param {Boolean} [options.alternate=false] alternate direction every round\n   * @param {Number} [options.wait=0] need wait how much millisecond to start\n   * @param {Number} [options.delay=0] need delay how much millisecond to begin, effect every loop round\n   */\n  playSegment(name, options = {}) {\n    if (!name) return;\n\n    let segment = null;\n    if (Tools.isArray(name)) {\n      segment = name;\n    } else if (Tools.isString(name)) {\n      segment = this.segments[name];\n      if (Tools.isArray(segment)) this._segmentName = name;\n    }\n\n    if (!Tools.isArray(segment)) return;\n\n    this.beginFrame = Tools.isNumber(segment[0]) ? segment[0] : this._defaultSegment[0];\n    this.endFrame = Tools.isNumber(segment[1]) ? segment[1] : this._defaultSegment[1];\n\n    if (Tools.isNumber(options.repeats)) this.repeats = options.repeats;\n    if (Tools.isBoolean(options.infinite)) this.infinite = options.infinite;\n    if (Tools.isBoolean(options.alternate)) this.alternate = options.alternate;\n    if (Tools.isNumber(options.wait)) this.wait = options.wait;\n    if (Tools.isNumber(options.delay)) this.delay = options.delay;\n\n    this.replay();\n  }\n\n  /**\n   * impl same as lottie goToAndStop\n   * <br/> `Note:` only can use after data was setup or after DisplayReady event\n   * @param {number} value number value\n   * @param {boolean} isFrame frame base or time base\n   */\n  goToAndStop(value, isFrame = false) {\n    this.frameNum = isFrame ? value : value * this.frameMult;\n    this.update(0, true);\n    this.pause();\n  }\n\n  /**\n   * impl same as lottie goToAndStop\n   * <br/> `Note:` only can use after data was setup or after DisplayReady event\n   * @param {number} value number value\n   * @param {boolean} isFrame frame base or time base\n   */\n  goToAndPlay(value, isFrame = false) {\n    this.frameNum = isFrame ? value : value * this.frameMult;\n    this.update(0, true);\n    this.resume();\n  }\n\n  /**\n   * get total duration\n   * <br/> `Note:` only can use after data was setup or after DisplayReady event\n   * @param {boolean} isFrame frame base or time base\n   * @return {number}\n   */\n  getDuration(isFrame) {\n    const totalFrames = this.endFrame - this.beginFrame;\n    return isFrame ? totalFrames : totalFrames / this.frameRate;\n  }\n\n  /**\n   * set direction\n   * @param {number} val change play direction -1 or 1\n   * @return {this}\n   */\n  setDirection(val) {\n    this.direction = val < 0 ? -1 : 1;\n    return this;\n  }\n\n  /**\n   * pause this animation group\n   * @return {this}\n   */\n  pause() {\n    if (this._pausedNeedSet) {\n      this._pausedNeedSet = false;\n    } else {\n      this._pausedNeedSet = null;\n    }\n    this.isPaused = true;\n    return this;\n  }\n\n  /**\n   * resume or play this animation group\n   * @return {this}\n   */\n  resume() {\n    if (this._pausedNeedSet) {\n      this._pausedNeedSet = false;\n    } else {\n      this._pausedNeedSet = null;\n    }\n    this.isPaused = false;\n    return this;\n  }\n\n  /**\n   * resume or play this animation group\n   * @return {this}\n   */\n  play() {\n    return this.resume();\n  }\n\n  /**\n   * replay this animation group from begin frame\n   * <br/> `Note:` only can use after data was setup or after DisplayReady event\n   * @return {this}\n   */\n  replay() {\n    if (this._pausedNeedSet) {\n      this._pausedNeedSet = false;\n    } else {\n      this._pausedNeedSet = null;\n    }\n    this.isPaused = false;\n    this._repeatsCut = this.repeats;\n    this._delayCut = this.delay;\n    this.living = true;\n    this.frameNum = 0;\n    this.duration = Math.floor(this.endFrame - this.beginFrame);\n    this.direction = 1;\n    return this;\n  }\n\n  /**\n   * show animation root display\n   */\n  show() {\n    if (this._justDisplayNeedSet) {\n      this._justDisplayNeedSet = false;\n    } else {\n      this._justDisplayNeedSet = null;\n    }\n    this.group.visible = true;\n  }\n\n  /**\n   * hide animation root display\n   */\n  hide() {\n    if (this._justDisplayNeedSet) {\n      this._justDisplayNeedSet = false;\n    } else {\n      this._justDisplayNeedSet = null;\n    }\n    this.group.visible = false;\n  }\n\n  /**\n   * destroy animation group and remove it from its parent\n   */\n  destroy() {\n    // remove group from animation manager\n    if (this.parent) this.parent.remove(this);\n\n    // remove root display from display tree\n    if (this.group.parent) this.group.parent.removeChild(this.group);\n\n    // pause and cancel texture loader handle\n    this.pause();\n\n    this.root = null;\n    this.group = null;\n    this.display = null;\n\n    this.textureLoader.off('complete');\n    this.textureLoader = null;\n    this.jsonLoader.off('complete');\n    this.jsonLoader = null;\n\n    this.keyframes = null;\n\n    this.living = false;\n  }\n}\n","import Eventer from './utils/Eventer';\nimport AnimationGroup from './AnimationGroup';\n\n/**\n * all lottie animations manager, manage update loop and animation groups, one Application one AnimationManager\n * @example\n * const manager = new PIXI.AnimationManager(app);\n * const ani = manager.parseAnimation({\n *   keyframes: data,\n *   infinite: true,\n * });\n * @class\n * @extends Eventer\n */\nexport default class AnimationManager extends Eventer {\n  /**\n   * animation manager, require an PIXI.Application instance\n   * @param {Application} app app object\n   */\n  constructor(app) {\n    super();\n    /**\n     * pre-time cache\n     *\n     * @member {Number}\n     * @private\n     */\n    this._lastTime = 0;\n\n    /**\n     * how long the time through, at this tick\n     *\n     * @member {Number}\n     * @private\n     */\n    this._snippet = 0;\n\n    /**\n     * time scale, just like speed scalar\n     *\n     * @member {Number}\n     */\n    this.timeScale = 1;\n\n    /**\n     * mark the manager was pause or not\n     *\n     * @member {Boolean}\n     */\n    this.isPaused = false;\n\n    /**\n     * get shared ticker from app object\n     * @member {ticker}\n     */\n    this.ticker = app.ticker ? app.ticker : app;\n\n    /**\n     * all animation groups\n     * @member {AnimationGroup[]}\n     */\n    this.groups = [];\n\n    this.update = this.update.bind(this);\n\n    if (this.ticker) this.start();\n  }\n\n  /**\n   * add a animationGroup child to array\n   * @param {AnimationGroup} child AnimationGroup instance\n   * @return {AnimationGroup} child\n   */\n  add(child) {\n    const argumentsLength = arguments.length;\n\n    if (argumentsLength > 1) {\n      for (let i = 0; i < argumentsLength; i++) {\n        /* eslint prefer-rest-params: 0 */\n        this.add(arguments[i]);\n      }\n    } else {\n      if (child.parent !== null) {\n        child.parent.remove(child);\n      }\n      child.parent = this;\n      this.groups.push(child);\n    }\n\n    return child;\n  }\n\n  /**\n   * remove a animationGroup child to array\n   * @param {AnimationGroup} child AnimationGroup instance\n   */\n  remove(child) {\n    if (arguments.length > 1) {\n      for (let i = 0; i < arguments.length; i++) {\n        this.remove(arguments[i]);\n      }\n    }\n    const index = this.groups.indexOf(child);\n    if (index !== -1) {\n      child.parent = null;\n      this.groups.splice(index, 1);\n    }\n  }\n\n  /**\n   * parser a bodymovin data, and post some config for this animation group\n   * @param {object} options lottie animation setting\n   * @param {object} options.keyframes bodymovin data, which export from AE by bodymovin\n   * @param {number} [options.repeats=0] need repeat some times?\n   * @param {boolean} [options.infinite=false] play this animation round and round forever\n   * @param {boolean} [options.alternate=false] alternate play direction every round\n   * @param {number} [options.wait=0] need wait how much millisecond to start\n   * @param {number} [options.delay=0] need delay how much millisecond to begin, effect every loop round\n   * @param {number} [options.timeScale=1] animation speed, time scale factor\n   * @param {boolean} [options.autoLoad=true] auto load assets, if this animation have\n   * @param {boolean} [options.autoStart=true] auto start animation after assets loaded\n   * @param {boolean} [options.copyJSON=false] copy json when this lottie data has two parse instance\n   * @param {boolean} [options.overlapMode=false] enable overlap mode, it is useful when you have a overlap expression\n   * @param {object} [options.segments={}] animation segments, splite by start and end keyframe number\n   * @param {boolean} [options.initSegment=''] animation segments, init finite state machine\n   * @param {boolean} [options.justDisplayOnImagesLoaded=true] just display group when all images loaded\n   * @param {boolean} [options.maskComp=false] add mask for each comp\n   * @param {string} [options.prefix=''] assets url prefix, look like link path\n   * @return {AnimationGroup}\n   * @example\n   * const manager = new PIXI.AnimationManager(app);\n   * const ani = manager.parseAnimation({\n   *   keyframes: data,\n   *   infinite: true,\n   * });\n   */\n  parseAnimation(options) {\n    const animate = new AnimationGroup(options);\n    return this.add(animate);\n  }\n\n  /**\n   * set animation speed, time scale\n   * @param {number} speed\n   */\n  setSpeed(speed) {\n    this.timeScale = speed;\n  }\n\n  /**\n   * start update loop\n   * @return {this}\n   */\n  start() {\n    this._lastTime = Date.now();\n    this.ticker.add(this.update);\n    return this;\n  }\n\n  /**\n   * stop update loop\n   * @return {this}\n   */\n  stop() {\n    this.ticker.remove(this.update);\n    return this;\n  }\n\n  /**\n   * pause all animation groups\n   * @return {this}\n   */\n  pause() {\n    this.isPaused = true;\n    return this;\n  }\n\n  /**\n   * pause all animation groups\n   * @return {this}\n   */\n  resume() {\n    this.isPaused = false;\n    return this;\n  }\n\n  /**\n   * update all active animation\n   * @private\n   */\n  update() {\n    this.timeline();\n    if (this.isPaused) return;\n    const snippetCache = this.timeScale * this._snippet;\n    const length = this.groups.length;\n    for (let i = 0; i < length; i++) {\n      const animationGroup = this.groups[i];\n      animationGroup.update(snippetCache);\n    }\n    this.emit('update', this._snippet);\n  }\n\n  /**\n   * get timeline snippet\n   * @private\n   */\n  timeline() {\n    let snippet = Date.now() - this._lastTime;\n    if (!this._lastTime || snippet > 200) {\n      this._lastTime = Date.now();\n      snippet = Date.now() - this._lastTime;\n    }\n    this._lastTime += snippet;\n    this._snippet = snippet;\n  }\n\n  /**\n   * destroy animation group and remove it from its parent\n   */\n  destroy() {\n    const length = this.groups.length;\n    for (let i = length - 1; i >= 0; i--) {\n      this.groups[i].destroy();\n    }\n  }\n}\n"],"names":["_rt","val","Object","prototype","toString","call","ks","Tools","copyJSON","json","JSON","parse","stringify","isArray","variable","isString","isNumber","isFunction","isUndefined","isBoolean","isObject","random","min","max","this","Math","length","euclideanModulo","n","m","codomainBounce","clamp","x","a","b","inRange","v","getAssets","id","assets","i","console","error","rgb2hex","rgb","Eventer","listeners","addEventListener","on","removeEventListener","off","type","fn","push","cbs","splice","cb","ev","_this","cache","slice","reset","apply","loaders","Type","Ajax","Texture","registerLoaderByType","_Loader","completeLayers","layers","comps","fontManager","layerData","j","jLen","k","kLen","len","completed","tt","td","hasMask","maskProps","masksProperties","pt","convertPathsToAbsoluteValues","s","e","ty","findCompLayers","refId","completeShapes","shapes","completeText","__used","arr","it","path","o","checkVersion","minimum","animVersionString","animVersion","split","minimumVersion","checkText","iterateLayers","textLayer","documentData","t","d","animationData","checkChars","chars","pathData","paths","data","__converted","checkColors","iterateShapes","c","checkShapes","closed","cl","p","singleShape","completeData","__complete","kSplineTableSize","kSampleStepSize","float32ArraySupported","Float32Array","A","aA1","aA2","B","C","calcBezier","aT","getSlope","BezierEasing","mX1","mY1","mX2","mY2","Error","sampleValues","Array","_preCompute","get","bind","_getTForX","aX","intervalStart","currentSample","lastSample","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","abs","binarySubdivide","beziers","createTypedArray","getBezierEasing","nm","str","replace","bezEasing","createSizedArray","Uint8ClampedArray","Int16Array","value","double","concat","PoolFactory","initialLength","_create","_release","_length","_maxLength","pool","newElement","element","release","pooling","PointPool","ShapePath","setLength","doubleArrayLength","y","pos","vX","vY","oX","oY","iX","iY","setXYAt","newPath","setPathData","vertices","outPoints","inPoints","init","setTripleAt","cnt","ShapePool","shapePath","clone","shape","cloned","undefined","ShapeCollection","shapeData","newShapeCollection","shapeCollection","DynamicPropertyContainer","_hasOutTypeExpression","container","outTypeExpressionMode","prop","dynamicProperties","indexOf","addDynamicProperty","_isAnimated","frameNum","_mdf","getValue","BezierLengthPool","addedLength","percents","lengths","SegmentsLengthPool","totalLength","defaultCurveSegments","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt1","pt2","pt3","pt4","ptDistance","curveSegments","point","lastPoint","lengthData","perc","ptCoord","pow","sqrt","BezierData","segmentLength","points","PointData","partial","partialLength","storedData","getDistancePerc","bezierData","initPos","floor","lengthPos","lPerc","dir","flag","bezierSegmentPoints","getSegmentsLength","segmentsLength","pathV","pathO","pathI","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","round","getPointInSegment","percent","buildBezierData","bezierName","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","initialDefaultFrame","degToRads","PI","defaultVector","EX_REG","STR_REG","Cycle","begin","end","total","progress","Pingpong","space","pingpong","FN_MAPS","loopIn","datak","mode","offset","last","loopOut","parseEx","ex","rs","match","ps","map","test","parseInt","name","hasSupportExpression","ksp","getExpression","_offset","createQuaternion","values","heading","attitude","bank","c1","cos","c2","c3","s1","sin","s2","s3","BaseProperty","caching","newValue","propType","pv","keyData","nextKeyData","fnc","iterationIndex","lastIndex","keyframes","h","endValue","out","quat","qx","qy","qz","qw","omega","cosom","sinom","scale0","scale1","ax","ay","az","aw","bx","by","bz","bw","nextKeyTime","keyTime","to","bez","ti","ind","__fnct","BezierFactory","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quatStart","quatEnd","acos","atan2","asin","constructor","initTime","endTime","_caching","initFrame","renderResult","interpolateValue","multipliedValue","mult","expression","update","frameId","effectsSequence","lock","setVValue","_isFirstFrame","finalValue","kf","effectFunction","ValueProperty","elem","vel","processEffectsSequence","MultiDimensionalProperty","comp","_this2","KeyframedValueProperty","_this3","getValueAtCurrentTime","Expression","KeyframedMultidimensionalProperty","_this4","arrLen","getProp","BaseShapeProperty","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShape","localShapeCollection","shape1","shape2","shapesEqual","releaseShapes","addShape","ShapeProperty","ShapeCollectionPool","resetShape","KeyframedShapeProperty","interpolateShapeCurrentTime","EllShapeProperty","initDynamicPropertyContainer","PropertyFactory","convertEllToPath","iterateDynamicProperties","p0","p1","s0","_cw","_v","cPoint","StarShapeProperty","sy","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","r","or","os","rad","roundness","perimSegment","numPts","angle","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","_this5","convertRectToPath","v0","v1","getShapeProp","getConstructorFunction","getKeyframedConstructorFunction","MaskFrames","session","viewData","hasMasks","ShapePropertyFactory","inv","Matrix","_cos","_sin","_tan","tan","_rnd","props","rotate","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","skew","skewFromAxis","scale","sz","setTransform","f","g","l","translate","tx","tz","transform","a2","b2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_p","_identityCalculated","a1","b1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","z","applyToX","applyToY","applyToZ","inversePoint","determinant","inversePoints","pts","retPts","applyToTriplePoints","p4","p5","p12","p13","applyToPointArray","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","ShapeTransformManager","sequences","sequenceList","transform_key_count","transforms","key","sequence","finalTransform","isFirstFrame","mProps","processSequence","ProcessedElement","position","ShapeData","styles","transformsManager","styledShapes","tr","styledShape","addTransformSequence","trNodes","elements","display","getDisplayByType","Null","Path","Shape","Solid","Sprite","Component","Container","registerDisplayByType","displayClass","PathPaint","preTransforms","hd","displayType","DisplayRegister","DisplayClass","innerDisplay","addChild","updateLottieGrahpics","TransformProperty","pre","appliedTransformations","px","py","pz","rx","ry","rz","sk","sa","_isDirty","forceRender","precalculateMatrix","autoOriented","v2","frameRate","globalData","getValueAtTime","offsetTime","mat","getTransformProperty","ShapeModifier","addShapeToModifier","setAsAnimated","initModifierProperties","TrimModifier","sValue","eValue","processKeys","pathsData","shapeLength","totalModifierLength","segments","segmentOb","shapeSegments","shapeS","shapeE","shapePaths","_s","totalShapeLength","releasePathsData","edges","calculateShapeEdges","newShapesData","addShapes","lastShape","pop","addPaths","newPaths","newShape","shapeSegment","currentLengthData","segmentCount","segment","addSegment","addSegmentFromArray","roundCorner","RoundCornersModifier","rd","clonedPath","currentV","currentI","currentO","closerV","distance","newPosPerc","index","processPath","RepeaterModifier","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","_processed","resetElements","newElements","renderFlag","_render","changeGroupRender","copies","ceil","group","cloneElements","reloadShapes","cont","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","applyTransforms","items","itemsTransform","op","MouseModifier","positions","mouseCoords","theta","vValues","oValues","iValues","distV","distO","distI","dc","maxDist","mouseX","mouseY","localMouseCoords","globalToLocal","modifiers","registerModifier","factory","getModifier","DashProperty","dataProps","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","comparePoints","ShapesFrames","keyframesManager","shapesData","stylesList","itemsData","prevViewData","shapeModifiers","processedElements","lcEnum","ljEnum","transformHelper","opacity","_opMdf","searchShapes","updateModifiers","processSequences","updateShape","updateGrahpics","styleElem","elementData","co","lc","lj","ml","w","wi","da","do","style","isAnimatedWithShape","processShapes","getNewKey","addShapeToModifiers","shouldRender","processedPos","modifier","currentTransform","ownStyles","ownModifiers","ownTransforms","searchProcessedElement","_shouldRender","createStyleElement","createGroupElement","createTransformElement","addTransformToStyleList","createShapeElement","ShapeModifiers","addProcessedElement","removeTransformFromStyleList","closeStyles","parentTransform","groupTransform","shapeNodes","groupTransformMat","pathNodes","itemData","updateStyledShape","styleData","coOp","grd","updateShapeTransform","updatePath","updateFill","updateStroke","updateGradientFill","TransformFrames","hs","KeyframesManager","masks","needUpdateOverlap","isOverlapMode","visible","layer","local","global","isOverlapLayer","st","overlapMode","parseLayer","isVisible","_isParent","tm","inIpOpRange","ip","prepareProperties","_isRoot","show","hide","updateLottieTransform","updateLottieMasks","BaseElement","sr","fullname","idname","ln","classnames","bodymovin","hierarchy","lottieTreeParent","onSetupLottie","setHierarchy","updateFrame","updateDisplay","CompElement","config","maskComp","viewport","childNodes","initDisplayInstance","initBodymovin","timeRemapped","node","SolidElement","rect","width","sw","height","color","sc","SpriteElement","textureLoader","asset","texture","getTextureById","ShapeElement","NullElement","AnimationGroup","options","living","infinite","repeats","alternate","wait","delay","timeScale","isPaused","direction","_lastFrame","Infinity","_repeatsCut","_delayCut","_waitCut","_segmentName","initSegment","_prefix","prefix","_autoLoad","autoLoad","_autoStart","autoStart","_justDisplayOnImagesLoaded","justDisplayOnImagesLoaded","_maskComp","jsonLoader","root","parent","loaderFunction","isDisplayLoaded","isImagesLoaded","_copyJSON","_setupDate","lastIndexOf","substr","warn","once","response","emit","_sourceData","DataManager","fr","frameMult","_defaultSegment","beginFrame","endFrame","_timePerFrame","duration","images","filter","u","loaded","_pausedNeedSet","_buildElements","_justDisplayNeedSet","_extraCompositions","isRoot","elementsMap","_createElements","item","selector","querySelector","nodes","selType","selName","matched","returnWhenMatch","preComps","childNode","_queryMatch","_searchNodes","idType","child","getDisplayByQuerySelector","removeChild","np","snippetCache","firstFrame","isEnd","_updateTime","correctedFrameNum","_emitFrame","hadEnded","snippet","_spill","bottomSpill","topSpill","frame","speed","replay","isFrame","pause","resume","totalFrames","remove","AnimationManager","app","_lastTime","_snippet","ticker","groups","start","argumentsLength","arguments","add","animate","Date","now","timeline","destroy"],"mappings":"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"}